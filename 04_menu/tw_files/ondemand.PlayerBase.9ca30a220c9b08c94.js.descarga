webpackJsonp(["ondemand.PlayerBase"],{"/Uk5":function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"g",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return o}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});var r={},i=function(e,t,n,i,a,s){r[e]={httpClient:t,twitterAuthedHttpClient:n,errorLogger:i,hlsJsDataUsageTracker:a,featureProvider:s}},a=function(e){delete r[e]},s=function(e){return r[e].httpClient},o=function(e){return r[e].twitterAuthedHttpClient},c=function(e,t){r[e]&&t(r[e].errorLogger)},u=function(e){return function(e){return r[e]||{}}(e).featureProvider},d=function(e,t){r[e]&&t(r[e].hlsJsDataUsageTracker)}},"1wiv":function(e,t,n){"use strict";n.d(t,"d",function(){return d}),n.d(t,"n",function(){return l}),n.d(t,"e",function(){return h}),n.d(t,"o",function(){return f}),n.d(t,"b",function(){return p}),n.d(t,"k",function(){return v}),n.d(t,"c",function(){return E}),n.d(t,"l",function(){return g}),n.d(t,"m",function(){return T}),n.d(t,"j",function(){return b}),n.d(t,"h",function(){return O}),n.d(t,"g",function(){return I}),n.d(t,"f",function(){return R}),n.d(t,"a",function(){return S});var r=n("rzQm"),i=n.n(r),a=n("n12u"),s=(n.n(a),n("fOdq")),o=(n.n(s),n("WpTh")),c=(n.n(o),n("QaEu")),u=(n.n(c),n("ro3u")),d="TICK",l=function(e,t,n,r,i,a){return{type:d,currentTimeMs:t,absoluteTimeMs:n,durationMs:r,playerId:e,hasCaptions:i,currentVariantIndex:a}},h="TRACK_FINISHED",f=function(e){return{type:h,playerId:e}},p="NEXT_TRACK",v=function(e){return{type:p,playerId:e}},E="PLAYER_READY",g=function(e){return{type:E,playerId:e}},T=function(e,t){return{type:"ROTATION_UPDATED",playerId:e,rotation:t}},y=new Date("Jan 01 1900 GMT").getTime(),m=new Date("Jan 01 1970 GMT").getTime()-y,b=function(e,t){return{type:"ID3_TAG_DATA",playerId:e,id3Json:t,currentNtpTime:(Date.now()+m)/1e3}},O=function(e){return{type:"BUFFER_START",playerId:e}},I=function(e){return{type:"BUFFER_END",playerId:e}},R=function(e,t){return{type:"BITRATE_SWITCHED",playerId:e,bitrate:t}},_=function(e){var t=e.tracks;return{currentTrack:t.find(function(t){return t.id===e.currentTrackId}),otherTracks:t.filter(function(t){return t.id!==e.currentTrackId})}};t.i=function(e,t){switch(t.type){case d:var n=_(e),r=n.currentTrack,a=n.otherTracks;return Object.assign({},e,{tracks:[].concat(i()(a),[Object.assign({},r,{durationMs:t.durationMs,currentTimeMs:t.currentTimeMs,absoluteTimeMs:t.absoluteTimeMs,hasCaptions:t.hasCaptions,currentVariantIndex:t.currentVariantIndex})])});case u.w:return Object.assign({},e,{tracksFinished:!1});case E:var s=_(e),o=s.currentTrack,c=s.otherTracks;return Object.assign({},e,{tracks:[].concat(i()(c),[Object.assign({},o,{playerReady:!0})])});case"ROTATION_UPDATED":var l=_(e),f=l.currentTrack,v=l.otherTracks;return Object.assign({},e,{tracks:[].concat(i()(v),[Object.assign({},f,{rotation:t.rotation})])});case"ID3_TAG_DATA":var g=t.id3Json,T=t.currentNtpTime,y=g.ntp,m=e;if(y){var b=T-y;m=function(e,t){var n=_(e),r=n.currentTrack,a=n.otherTracks;return Object.assign({},e,{tracks:[].concat(i()(a),[Object.assign({},t(r))])})}(m,function(e){return Object.assign({},e,{liveLatencyMs:1e3*b})})}return m;case"BITRATE_SWITCHED":var O=_(e),I=O.currentTrack,R=O.otherTracks;return Object.assign({},e,{tracks:[].concat(i()(R),[Object.assign({},I,{currentBitrate:t.bitrate})])});case"BUFFER_START":var S=_(e),P=S.currentTrack,w=S.otherTracks;return Object.assign({},e,{tracks:[].concat(i()(w),[Object.assign({},P,{isBuffering:!0})])});case"BUFFER_END":var C=_(e),A=C.currentTrack,L=C.otherTracks;return Object.assign({},e,{tracks:[].concat(i()(L),[Object.assign({},A,{isBuffering:!1})])});case p:case h:if(e.nextTrackIds.length>0){var D=e.nextTrackIds,k=D[0],U=D.slice(1),j=e.tracks,N=j.find(function(e){return e.id===k}),M=j.filter(function(e){return e.id!==k});return Object.assign({},e,{currentTrackId:k,nextTrackIds:U,controls:Object.assign({},e.controls,{playState:u.j.PLAY_REQUESTED,captionsState:e.areCaptionsShown?u.e.CAPTIONS_ON_REQUESTED:u.e.CAPTIONS_OFF_REQUESTED}),intentToPlayTime:void 0,tracks:[].concat(i()(M),[Object.assign({},N,{playerReady:!1})])})}var x=_(e).currentTrack;return Object.assign({},e,{intentToPlayTime:void 0,isPlaying:!!x.shouldLoop,tracksFinished:!x.shouldLoop});default:return e}};var S={nextTrackIds:[]}},"1z7j":function(e,t,n){"use strict";n.d(t,"b",function(){return a});var r=n("sQlR"),i=n("/Uk5"),a=function(e,t){return{feature:t,playerId:e,type:"GET_FEATURE_VALUE"}};t.a=function(e){return function(t){return function(n){if("GET_FEATURE_VALUE"===n.type){var a,s,o=n.feature,c=n.playerId,u=Object(i.a)(c);if(u&&u.getValue)a=u.getValue(o),e.dispatch(Object(r.i)(c,((s={})[o]=a,s)));return a}return t(n)}}}},"45IN":function(e,t,n){"use strict";n("WpTh"),n("qwQ3"),n("9Yib"),n("A0n/"),n("fx22"),n("IMUI"),n("y9m4"),n("gYYG"),n("3QrE");var r=n("fKPv"),i=n.n(r),a=n("ro3u"),s=(n("THnP"),n("dTzs"),n("QaEu"),Math.PI/2),o=.0025*s,c=.016*s,u=.7*s,d="PROGRAM_INITIALIZATION_ERROR",l="RENDERING_CONTEXT_GET_ERROR",h="SHADER_LOAD_ERROR",f=37,p=38,v=39,E=40,g=73,T=74,y=75,m=76,b=function(){function e(e,t){this.videoTag=e,this.isPanning=!1,this.startX=0,this.startY=0,this.startT=0,this.velocityX=0,this.velocityY=0,this.pitch=0,this.yaw=0,this.keyStates={},this.logger=t,this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.render=this.render.bind(this);try{this.renderCanvasTag(),this.attachRenderer(),this.setViewportSize()}catch(n){this.logger.log("WebGLError",n),this.hideCanvasTag()}}var t=e.prototype;return t.getCanvasRef=function(){return this.canvasTag},t.render=function(){if(void 0!==this.canvasTag){this.handleFlick(),this.handleKeyboardInputs();try{this.loadTexture(),this.gl.useProgram(this.program),this.setCapabilities(),this.clearBuffer(),this.setUniformVariables(),this.setVertexAttributes(),this.draw(),window.requestAnimationFrame(this.render)}catch(e){this.logger.log("WebGLError",e),this.hideCanvasTag()}}},t.teardown=function(){this.canvasTag.removeEventListener("mousedown",this.onMouseDown),this.canvasTag.removeEventListener("keydown",this.onKeyDown),this.canvasTag.removeEventListener("keyup",this.onKeyUp),this.canvasTag=void 0,this.gl=void 0,window.removeEventListener("resize",this.onWindowResize)},t.hideCanvasTag=function(){this.canvasTag.style.visibility="hidden"},t.renderCanvasTag=function(){if(this.canvasTag=document.createElement("canvas"),this.canvasTag.style.background="black",this.canvasTag.style.cursor="grab",this.canvasTag.style.cursor="-moz-grab",this.canvasTag.style.cursor="-webkit-grab",this.canvasTag.style.position="absolute",this.canvasTag.style.top="0",this.canvasTag.style.left="0",this.canvasTag.style.width="100%",this.canvasTag.style.height="100%",this.canvasTag.style.visibility="visible",this.canvasTag.addEventListener("mousedown",this.onMouseDown),this.canvasTag.addEventListener("keydown",this.onKeyDown),this.canvasTag.addEventListener("keyup",this.onKeyUp),window.addEventListener("resize",this.onWindowResize),this.gl=this.canvasTag.getContext("experimental-webgl"),!this.gl)throw new Error(l)},t.getVideoHeight=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},t.getVideoWidth=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},t.setViewportSize=function(){var e=this.getVideoHeight(),t=this.getVideoWidth();this.canvasTag.setAttribute("height",e),this.canvasTag.setAttribute("width",t),this.gl.viewport(0,0,t,e)},t.onWindowResize=function(){this.setViewportSize()},t.onKeyDown=function(e){switch(e.keyCode){case f:case p:case v:case E:case g:case T:case y:case m:this.keyStates[e.keyCode]=!0}},t.onKeyUp=function(e){switch(e.keyCode){case f:case p:case v:case E:case g:case T:case y:case m:this.keyStates[e.keyCode]=!1}},t.onMouseDown=function(e){this.canvasTag.addEventListener("mousemove",this.onMouseMove),this.canvasTag.addEventListener("mouseup",this.onMouseUp),this.canvasTag.addEventListener("mouseleave",this.onMouseLeave),this.canvasTag.style.cursor="grabbing",this.canvasTag.style.cursor="-moz-grabbing",this.canvasTag.style.cursor="-webkit-grabbing",this.isPanning=!0,this.startX=e.clientX,this.startY=e.clientY,this.startT=Date.now(),e.preventDefault()},t.onMouseMove=function(e){if(this.isPanning){var t=(e.clientX-this.startX)*o,n=(e.clientY-this.startY)*o;this.handlePan(t,n),this.startX=e.clientX,this.startY=e.clientY,this.startT=Date.now(),e.preventDefault()}},t.onMouseUp=function(e){this.isPanning&&(this.canvasTag.removeEventListener("mousemove",this.onMouseMove),this.canvasTag.removeEventListener("mouseup",this.onMouseUp),this.canvasTag.removeEventListener("mouseleave",this.onMouseLeave),this.canvasTag.style.cursor="grab",this.canvasTag.style.cursor="-moz-grab",this.canvasTag.style.cursor="-webkit-grab",this.isPanning=!1,e.preventDefault())},t.onMouseLeave=function(e){this.onMouseUp(e)},t.handlePan=function(e,t){this.yaw+=e,this.pitch=this.clamp(this.pitch+t,-u,u);var n=Date.now()-this.startT;n>0&&(this.velocityX=e/n*5,this.velocityY=t/n*5)},t.handleFlick=function(){this.isPanning||(this.yaw+=this.velocityX,this.pitch=this.clamp(this.pitch+this.velocityY,-u,u),this.velocityX*=.85,this.velocityY*=.85)},t.handleKeyboardInputs=function(){(this.keyStates[p]||this.keyStates[g])&&(this.pitch=this.clamp(this.pitch+c,-u,u)),(this.keyStates[f]||this.keyStates[T])&&(this.yaw+=c),(this.keyStates[E]||this.keyStates[y])&&(this.pitch=this.clamp(this.pitch-c,-u,u)),(this.keyStates[v]||this.keyStates[m])&&(this.yaw-=c)},t.clamp=function(e,t,n){return Math.min(Math.max(t,e),n)},t.loadTexture=function(){var e=this.gl;if(e.bindTexture(e.TEXTURE_2D,this.videoTexture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.videoTag),e.getError()!==e.NO_ERROR){var t=this.getVideoHeight(),n=this.getVideoWidth();void 0===this.videoCtx&&(this.videoCtx=document.createElement("canvas").getContext("2d")),this.videoCtx.canvas.height=t,this.videoCtx.canvas.width=n,this.videoCtx.drawImage(this.videoTag,0,0,n,t),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.videoCtx.canvas)}e.bindTexture(e.TEXTURE_2D,null)},t.setCapabilities=function(){var e=this.gl;e.disable(e.CULL_FACE),e.disable(e.BLEND),e.disable(e.SCISSOR_TEST),e.disable(e.DEPTH_TEST),e.depthFunc(e.ALWAYS)},t.clearBuffer=function(){var e=this.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},t.setUniformVariables=function(){var e=this.gl,t=this.matrixMultiply3x3(this.matrixRotateX(this.pitch),this.matrixRotateY(this.yaw)),n=this.getVideoHeight(),r=this.getVideoWidth();e.uniformMatrix4fv(e.getUniformLocation(this.program,"viewMatrix"),!1,new Float32Array(t)),e.uniform1f(e.getUniformLocation(this.program,"nearPlane"),r/n*.85),e.uniform1f(e.getUniformLocation(this.program,"aspectRatio"),r/n)},t.matrixMultiply3x3=function(e,t){for(var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],r=0;r<3;r++)for(var i=0;i<3;i++)for(var a=0;a<3;a++)n[4*r+i]+=e[3*r+a]*t[3*a+i];return n},t.matrixRotateX=function(e){var t=Math.cos(e),n=Math.sin(e);return[1,0,0,0,t,-n,0,n,t]},t.matrixRotateY=function(e){var t=Math.cos(e),n=Math.sin(e);return[t,0,n,0,1,0,-n,0,t]},t.setVertexAttributes=function(){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.enableVertexAttribArray(e.getAttribLocation(this.program,"vs_Position")),e.vertexAttribPointer(e.getAttribLocation(this.program,"vs_Position"),2,e.FLOAT,!1,0,0)},t.draw=function(){var e=this.gl;e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.videoTexture),e.uniform1i(e.getUniformLocation(this.program,"texture0"),0),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)},t.attachRenderer=function(){this.fragmentShader=this.loadShader(this.gl.VERTEX_SHADER,this.fsSource()),this.vertexShader=this.loadShader(this.gl.FRAGMENT_SHADER,this.vsSource()),this.program=this.linkProgram(),this.vertexBuffer=this.createBuffer(this.gl.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,1,1])),this.indexBuffer=this.createBuffer(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,1,3,2])),this.videoTexture=this.gl.createTexture()},t.loadShader=function(e,t){var n=this.gl.createShader(e);if(this.gl.shaderSource(n,t),this.gl.compileShader(n),this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS))return n;throw new Error(h)},t.fsSource=function(){return"attribute vec2 vs_Position;varying vec3 fs_RayDir;uniform mat4 viewMatrix;uniform float nearPlane;uniform float aspectRatio;void main() {   highp vec2 viewportPos = vs_Position * 2.0 - 1.0;   fs_RayDir = (viewMatrix * vec4(viewportPos.xy * vec2(aspectRatio, -1.0),                 nearPlane, 0.0)).xyz;   gl_Position = vec4(viewportPos * vec2(1.0, -1.0), 0.0, 1.0);}"},t.vsSource=function(){return"varying highp vec3 fs_RayDir;uniform sampler2D texture0;const highp float kInvPi = (1.0 / 3.14159265358);const highp float kInv2Pi = (0.5 / 3.14159265358);mediump vec2 projectEquirectangular(highp vec3 nrmDir) {  return vec2(fract(0.5 + atan(nrmDir.x, nrmDir.z) * kInv2Pi),              0.5 - asin(nrmDir.y) * kInvPi);}void main() {  mediump vec2 texCoord = projectEquirectangular(normalize(fs_RayDir));  lowp vec3 rgb = texture2D(texture0, texCoord).xyz;  gl_FragColor = vec4(rgb, 1.0);}"},t.linkProgram=function(){var e=this.gl.createProgram();if(this.gl.attachShader(e,this.vertexShader),this.gl.attachShader(e,this.fragmentShader),this.gl.linkProgram(e),this.gl.getProgramParameter(e,this.gl.LINK_STATUS))return e;throw new Error(d)},t.createBuffer=function(e,t){var n=this.gl.createBuffer();return this.gl.bindBuffer(e,n),this.gl.bufferData(e,t,this.gl.STATIC_DRAW),n},e}(),O=n("ZQ6P"),I=n("bLx6"),R=n("1z7j"),_=n("/Uk5"),S=n("M1I4"),P=n.n(S),w=n("86MP"),C=n.n(w),A=n("bb2B"),L=n("6gFT"),D=n("1wiv"),k=n("1u0O");n("mJx5");function U(e){return"captions"===e.kind&&e.cues&&e.cues.length>0||"subtitles"===e.kind}function j(e,t){if(t&&e){var n=t.split("-")[0];return e.toLowerCase()===n.toLowerCase()}}var N,M=n("tYh2"),x=n("c8i7"),F=n("5F3G"),V=n("pzAi"),G=1,B=2,Q=3,H=4,K="captions",W="metadata",Y="subtitles",J="disabled",X="hidden",z="showing",q=function(){function e(e,t,n,r,a,s){var o=this;void 0===s&&(s={}),i()(this,"onLoadStart",function(){o.playerRenderPromise||o.dispatchPlayerReady()}),this.domElement=e,this.playerId=t,this.hydraExperienceId=s.hydraExperienceId,this.store=n,this.reload=r,this.showControls=s.showControls,this.objectFitVideo=s.objectFitVideo,this.language=s.language,this.precache=s.precache,this.videoEl=s.videoEl,this.id3Disabled=!1,this.activeCues={},Object(x.c)()||(this.hlsjsVersion=n.dispatch(Object(R.b)(t,V.a))),this.mp4ThresholdSec=n.dispatch(Object(R.b)(t,V.c)),this.isHlsWorkerEnabled=n.dispatch(Object(R.b)(t,V.b))||!1,this.liveAdDomainRegex=/t.lv.twimg.com$|ton.twitter.com$/,this.logger=a,this.onLoadedMetadata=this.onLoadedMetadata.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onCanPlay=this.onCanPlay.bind(this),this.onPlay=this.onPlay.bind(this),this.onPlaying=this.onPlaying.bind(this),this.onPause=this.onPause.bind(this),this.onVolumeChange=this.onVolumeChange.bind(this),this.onSeeked=this.onSeeked.bind(this),this.onSeeking=this.onSeeking.bind(this),this.onEnded=this.onEnded.bind(this),this.onError=this.onError.bind(this),this.onHlsJsError=this.onHlsJsError.bind(this),this.onId3CueWithInfo=this.onId3CueWithInfo.bind(this),this.onId3CueWithData=this.onId3CueWithData.bind(this),this.onFragmentLoading=this.onFragmentLoading.bind(this),this.onFragmentParsingInitSegment=this.onFragmentParsingInitSegment.bind(this),this.onLevelSwitch=this.onLevelSwitch.bind(this),this.onBufferStart=this.onBufferStart.bind(this),this.onManifestParsed=this.onManifestParsed.bind(this),this.render=this.render.bind(this),this.dispatchPlayerReady=this.dispatchPlayerReady.bind(this),this.hlsJsPlay=this.hlsJsPlay.bind(this),this.unsubscribeFromStore=this.store.subscribe(this.render),this.playPromise=Promise.resolve(),this.renderVideoTag()}var t=e.prototype;return t.teardownPlayer=function(e){void 0===e&&(e=!0),this.trackDataUsage();var t=this.hlsJs;if(t){t.detachMedia();var n=function(){t.destroy()};this.hlsJs=void 0,this.playPromise.then(n).catch(n)}if(this.videoTag){this.stopListeningForId3Tags(),this.videoTag.removeEventListener("loadedmetadata",this.onLoadedMetadata),this.videoTag.removeEventListener("timeupdate",this.onTimeUpdate),this.videoTag.removeEventListener("canplay",this.onCanPlay),this.videoTag.removeEventListener("play",this.onPlay),this.videoTag.removeEventListener("playing",this.onPlaying),this.videoTag.removeEventListener("pause",this.onPause),this.videoTag.removeEventListener("volumechange",this.onVolumeChange),this.videoTag.removeEventListener("seeked",this.onSeeked),this.videoTag.removeEventListener("seeking",this.onSeeking),this.videoTag.removeEventListener("ended",this.onEnded),this.videoTag.removeEventListener("error",this.onError),this.videoTag.removeEventListener("waiting",this.onBufferStart),this.videoTag.removeEventListener("loadstart",this.onLoadStart),this.videoTag.textTracks&&(this.videoTag.textTracks.onaddtrack=void 0);try{this.videoTag.pause(),this.videoTag.removeAttribute("src"),this.videoTag.removeAttribute("poster"),this.videoTag.load()}catch(r){}this.videoTag.parentNode&&this.videoTag.parentNode.removeChild(this.videoTag),this.videoTag=void 0}this.canvas&&(this.canvas.teardown(),this.canvas=void 0),this.renderedTrackId=void 0,this.hasLoaded=!1,this.hasEndedOnce=!1,this.activeCues=void 0,e&&(this.renderVideoTag(),this.activeCues={})},t.teardown=function(){this.teardownPlayer(!1),this.domElement.parentNode&&this.domElement.parentNode.removeChild(this.domElement),this.unsubscribeFromStore()},t.getVideoTag=function(){return this.videoTag},t.renderVideoTag=function(){this.videoTag=this.videoEl||document.createElement("video"),this.videoTag.setAttribute("preload","none"),this.videoTag.setAttribute("playsinline",""),this.showControls&&this.videoTag.setAttribute("controls",""),this.videoTag.style.width="100%",this.videoTag.style.height="100%",this.videoTag.style.position="absolute",this.videoTag.style.backgroundColor="black",this.videoTag.addEventListener("loadstart",this.onLoadStart,!1),this.videoTag.addEventListener("loadedmetadata",this.onLoadedMetadata),this.videoTag.addEventListener("timeupdate",this.onTimeUpdate),this.videoTag.addEventListener("play",this.onPlay),this.videoTag.addEventListener("pause",this.onPause),this.videoTag.addEventListener("volumechange",this.onVolumeChange),this.videoTag.addEventListener("seeked",this.onSeeked),this.videoTag.addEventListener("seeking",this.onSeeking),this.videoTag.addEventListener("ended",this.onEnded),this.videoTag.addEventListener("error",this.onError),this.videoTag.addEventListener("playing",this.onPlaying),this.videoTag.addEventListener("waiting",this.onBufferStart),this.videoTag.addEventListener("canplay",this.onCanPlay),this.videoTag.textTracks&&(this.videoTag.textTracks.onaddtrack=this.handleTrackAdded.bind(this)),this.hasEndedOnce=!1},t.onLoadedMetadata=function(){this.checkInitialSeek()},t.onTimeUpdate=function(){if(void 0===this.dateTimeAnchor&&void 0!==this.videoTag.getStartDate){var e=this.videoTag.getStartDate();e&&(this.dateTimeAnchor={streamTimeMs:0,absoluteTimeMs:e.getTime()})}var t,n=1e3*this.videoTag.currentTime;void 0!==this.dateTimeAnchor&&(t=n-this.dateTimeAnchor.streamTimeMs+this.dateTimeAnchor.absoluteTimeMs);var r=0,i=this.videoTag.currentSrc;if(i)for(var a=this.getCurrentTrack().variants,s=0;s<a.length;s++)if(a[s].src===i){r=s;break}this.store.dispatch(Object(D.n)(this.playerId,n,t,1e3*this.videoTag.duration,this.hasCaptions(),r)),this.trackDataUsage()},t.trackDataUsage=function(){var e=this;Object(_.b)(this.playerId,function(t){var n=t.getAndReset();n>0&&e.store.dispatch(a.E(e.playerId,n))})},t.checkInitialSeek=function(){var e=this.videoTag,t=this.getInitialTimeCode();this.isSeekable(t)&&!this.hasInitialSeeked&&t>-1&&(this.hasInitialSeeked=!0,e.currentTime=t)},t.onCanPlay=function(){this.canvas&&window.requestAnimationFrame(this.canvas.render),this.checkInitialSeek(),this.onBufferEnd()},t.onPlay=function(){var e=this.videoTag.duration;this.isLooping||(this.isLive&&(this.hlsJs?this.hlsJs.liveSyncPosition&&(this.videoTag.currentTime=this.hlsJs.liveSyncPosition):e&&window.isFinite(e)&&(this.videoTag.currentTime=e)),this.startHlsLoad())},t.onPlaying=function(){this.videoTag.paused||(this.isEnded=!1,this.reloadTimecode=void 0,this.store.dispatch(a.T(this.playerId)),this.onBufferEnd(),this.onTimeUpdate())},t.onPause=function(){this.videoTag.ended||this.store.dispatch(a.S(this.playerId)),this.onBufferEnd()},t.onVolumeChange=function(){this.store.dispatch(a.W(this.playerId,this.videoTag.muted,this.videoTag.volume)),Object(M.b)("volume",this.videoTag.volume)},t.onSeeking=function(){this.seeking||this.isLooping||(this.seeking=!0,this.store.dispatch(a.V(this.playerId))),this.store.dispatch(Object(F.resetGuestState)(this.hydraExperienceId)),this.hasInitialSeeked=!0},t.onSeeked=function(){this.seeking=!1,this.isEnded=!1,this.isLooping=!1,this.store.dispatch(a.U(this.playerId)),this.onBufferEnd(),this.updateRotation()},t.updateRotation=function(){var e,t,n,r=(this.getId3Track()||{}).cues||[],i=r.length,a=this.videoTag.currentTime;for(e=0;e<i&&r[e].startTime<=a;e++)"TXXX"===(t=r[e]).value.key&&"JSONMetadata"===t.value.info&&(n=t);if(n)try{var s=JSON.parse(n.value.data),o=this.normalizeRotation(s.rotation),c=this.getCurrentTrack();void 0!==o&&o!==c.rotation&&this.store.dispatch(Object(D.m)(this.playerId,o))}catch(u){}},t.onEnded=function(){this.onBufferEnd(),this.isEnded=this.hasEndedOnce=!0,this.store.dispatch(Object(D.o)(this.playerId));var e=this.getCurrentTrack().shouldLoop;if(this.shouldLoop=e,this.shouldLoop){this.isLooping=!0;var t=this.videoTag.play()||Promise.resolve();this.playPromise=t.catch(function(){})}var n=this.getCurrentTrack(),r=n.isLive,i=n.isLiveTimecode;r&&(i&&this.reload({requestedTimecode:-1,autoPlay:!0}),this.reload()),this.hasInitialSeeked=!1},t.onHlsJsError=function(e,t,n){if(n.fatal){var r=n.response&&n.response.code;this.teardownPlayer(),403===r?"broadcast"===e||"live"===e||"periscope"===e?this.store.dispatch(Object(A.h)(this.playerId,new Error(O.a.LIVE_VIDEO_GEOBLOCK_ERROR))):this.store.dispatch(Object(A.h)(this.playerId,new Error(O.a.MEDIA_GEOBLOCK_ERROR))):(r=r?":"+r:"",this.store.dispatch(Object(A.h)(this.playerId,new Error(n.type+":"+n.details+r))))}},t.onError=function(e,t){if(this.videoTag.error){var n;switch(this.videoTag.error.code){case G:n=O.a.MEDIA_ABORTED;break;case B:n=O.a.MEDIA_NETWORK_ERROR;break;case Q:n=O.a.MEDIA_DECODE_ERROR;break;case H:n=O.a.MEDIA_SRC_INVALID_ERROR;break;default:n=O.a.MEDIA_UNKNOWN_CODE_ERROR}this.store.dispatch(Object(A.h)(this.playerId,new Error(n))),this.teardownPlayer()}},t.normalizeRotation=function(e){var t=90*Math.floor((Math.floor(e)+45)/90)%360;return 270===t?-90:t},t.isMissingDataProp=function(e){var t,n=e,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var s=a;if("TXXX"===s.value.key){t=s;break}}return t&&""===t.value.data&&/\[.*\]|\{.*\}$/.test(t.value.info)},t.onId3CueWithInfo=function(e){var t=/(\[|\{)/,n=e.currentTarget.activeCues,r=this.activeCues;this.activeCues={};var i=n,a=Array.isArray(i),s=0;for(i=a?i:i[Symbol.iterator]();;){var o;if(a){if(s>=i.length)break;o=i[s++]}else{if((s=i.next()).done)break;o=s.value}var c=o,u=c.value,d=u.key,l=u.info,h=[c.startTime,d,l].join("|");if(this.activeCues[h]=!0,!r[h]&&"TXXX"===d){var f=l.search(t);if(-1!==f){var p=l.slice(0,f),v=l.slice(f);this.parseId3Data(p,v)}}}},t.onId3CueWithData=function(e){var t=e.currentTarget.activeCues,n=this.activeCues;this.activeCues={};var r=t,i=Array.isArray(r),a=0;for(r=i?r:r[Symbol.iterator]();;){var s;if(i){if(a>=r.length)break;s=r[a++]}else{if((a=r.next()).done)break;s=a.value}var o=s,c=o.value,u=c.key,d=c.info,l=c.data,h=[o.startTime,u,d,l].join("|");this.activeCues[h]=!0,n[h]||"TXXX"===u&&this.parseId3Data(d,l)}},t.parseId3Data=function(e,t){try{var n=JSON.parse(t);if("JSONMetadata"===e){var r=this.normalizeRotation(n.rotation);this.store.dispatch(Object(D.m)(this.playerId,r)),this.store.dispatch(Object(D.j)(this.playerId,n))}else"HydraAudioLevel"===e?this.store.dispatch(Object(F.updateAudioLevels)(this.hydraExperienceId,n)):"HydraParticipants"===e&&this.store.dispatch(Object(F.updateGuestInfo)(this.hydraExperienceId,n))}catch(i){}},t.onFragmentLoading=function(e,t){void 0!==t&&void 0!==t.frag&&t.frag.programDateTime&&(this.dateTimeAnchor={streamTimeMs:1e3*t.frag.start,absoluteTimeMs:Z(t.frag.programDateTime)})},t.onFragmentParsingInitSegment=function(e,t){if(void 0!==t&&void 0!==t.frag&&void 0!==t.frag.level&&void 0!==this.hlsJs){var n=this.hlsJs.levels[t.frag.level];void 0!==n&&void 0!==n.details&&void 0!==n.details.programDateTime&&void 0!==n.details.fragments&&void 0!==n.details.fragments[0]&&(this.dateTimeAnchor={streamTimeMs:1e3*n.details.fragments[0].start,absoluteTimeMs:Z(n.details.programDateTime)})}},t.onLevelSwitch=function(e,t){if(this.hlsJs&&this.hlsJs.levels){var n=this.hlsJs.levels[t.level].bitrate;void 0!==n&&this.store.dispatch(Object(D.f)(this.playerId,n))}},t.onBufferStart=function(){var e=this,t=!this.hasEndedOnce||this.videoTag&&this.videoTag.currentTime>=2;this.shouldLoop&&!t||(this.buffering=!0,setTimeout(function(){e.buffering&&e.store.dispatch(Object(D.h)(e.playerId))},20))},t.onBufferEnd=function(){this.buffering&&(this.buffering=!1,this.store.dispatch(Object(D.g)(this.playerId)))},t.getCaptionsTrack=function(e){var t=e||this.videoTag.textTracks||[],n=this.language;return n?function(e,t){for(var n,r,i=e.length,a=0;a<i;a++){var s=e[a],o=s.language;if(U(s)){if(o&&t&&o.toLowerCase()===t.toLowerCase())return s;!r&&j(o,t)?r=s:n||o||(n=s)}}return r||n}(t,n):function(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];if(U(r))return r}}(t)},t.getSubtitlesTrack=function(){return this.getCaptionsTrack(function(e){for(var t=e.length,n=[],r=0;r<t;r++){var i=e[r];"captions"!==i.kind&&n.push(i)}return n}(this.videoTag.textTracks))},t.getId3Track=function(){for(var e=0;e<this.videoTag.textTracks.length;e++){var t=this.videoTag.textTracks[e];if(t.kind===W)return t}},t.handleTrackAdded=function(e){var t=e.track,n=K,r=W,i=Y;t.kind===r?this.startListeningForId3Tags():t.mode=t.kind===n?X:J,!Object(x.c)()||t.kind!==n&&t.kind!==i||(this.id3Disabled=!0,this.stopListeningForId3Tags())},t.startListeningForId3Tags=function(){var e=this.getId3Track();if(void 0!==e&&!this.id3Disabled){var t=e.cues;void 0===this.missingDataProp&&t&&(this.missingDataProp=this.isMissingDataProp(t)),e.oncuechange=this.missingDataProp?this.onId3CueWithInfo:this.onId3CueWithData,e.mode=X}},t.stopListeningForId3Tags=function(){var e=this.getId3Track();void 0!==e&&(e.oncuechange=null,e.mode=J)},t.handleControlUpdate=function(e){var t=this;switch(e.muteState){case a.i.MUTE_REQUESTED:this.videoTag.muted=!0;break;case a.i.UNMUTE_REQUESTED:this.videoTag.muted=!1}switch(e.playState){case a.j.PAUSE_REQUESTED:var n=function(){t.hlsJs&&(t.hlsJs.stopLoad(),t.hasLoaded=!1),t.videoTag&&(t.videoTag.pause(),t.stopListeningForId3Tags())};this.videoTag.paused?n():this.playPromise.then(n);break;case a.j.PLAY_REQUESTED:var r=this.hlsJs?this.hlsJsPlay():this.videoTag.play()||Promise.resolve();this.playPromise=r.catch(function(){t.videoTag&&t.videoTag.paused&&t.store.dispatch(a.A(t.playerId))}),this.startListeningForId3Tags()}if(e.captionsState&&this.hasCaptions()&&this.videoTag.readyState>=2){var i=this.getCaptionsTrack();switch(e.captionsState){case a.e.CAPTIONS_ON_REQUESTED:if(this.isUserRequestedCaptions())i.mode=z,this.store.dispatch(a.D(this.playerId,!0));else{var s=this.getSubtitlesTrack();s&&(s.mode=z,this.store.dispatch(a.D(this.playerId,!0)))}break;case a.e.CAPTIONS_OFF_REQUESTED:i.mode=i.kind===K?X:J,this.store.dispatch(a.D(this.playerId,!1))}}if(!this.seeking){var o=Math.max(0,Math.min(this.videoTag.duration-.5,this.videoTag.duration*e.scrubToFraction));window.isFinite(o)&&(this.videoTag.currentTime=o)}e.volume>=0&&(this.videoTag.volume=e.volume)},t.startHlsLoad=function(){if(this.hlsJs&&!this.hasLoaded){var e=-1;this.hasInitialSeeked||(e=this.getInitialTimeCode(),this.hasInitialSeeked=!0),this.hasLoaded=!0,this.hlsJs.startLoad(e)}},t.hlsJsPlay=function(){var e=this;return new Promise(function(t){if(e.videoTag&&(e.videoTag.readyState>=3||e.isEnded))t();else{e.videoTag.addEventListener("canplay",function n(){e.videoTag&&e.videoTag.readyState>=3&&(t(),e.videoTag.removeEventListener("canplay",n))})}e.startHlsLoad()}).then(function(){return e.checkInitialSeek(),e.videoTag.play()||Promise.resolve()})},t.xhrSetup=function(e,t,n){var r=new L.a(t).getHostname(),i=r&&this.liveAdDomainRegex.test(r),a=n===N.ResourceTypes.KEY;(i||a)&&(e.withCredentials=!0)},t.hasCaptions=function(){return void 0!==this.getCaptionsTrack()},t.renderVideoVariant=function(){var e=this.mp4ThresholdSec,t=this.getCurrentTrack(),n=t.contentType,r=t.durationMs,i=t.is360,a=t.variants,s=this.getPlayerState().features.bitrateCap,o=Object(k.a)(a,{durationSec:r/1e3,mp4ThresholdSec:e}),c=o.useMse,u=o.selectedVariant;return u?c?this.renderHlsJs(u,i,s,n):this.renderHtml5(u):(this.store.dispatch(Object(A.h)(this.playerId,new Error(O.a.MEDIA_NOT_SUPPORTED))),Promise.resolve())},t.renderHlsJs=function(e,t,n,r){var i=this,a=this.getInitialTimeCode();return Object(k.b)(this.hlsjsVersion).then(function(s){var o,c;N=s,i.hasLoaded=i.precache,i.hlsJs=new N({autoStartLoad:i.precache,enableWorker:i.isHlsWorkerEnabled,fragLoadingMaxRetry:6,fragLoadingRetryDelay:500,fragLoadingTimeOut:2e4,levelLoadingMaxRetry:4,levelLoadingTimeOut:2e4,loader:(o=i.playerId,c=N,function(e){function t(t){var n,r=(n=e.call(this,t)||this).load.bind(P()(n));return n.load=function(e,t,n){var i=n.onSuccess;n.onSuccess=function(e,t,n){Object(_.b)(o,function(e){e.add(t.total)}),i(e,t,n)},r(e,t,n)},n}return C()(t,e),t}(c.DefaultConfig.loader)),manifestLoadingMaxRetry:4,manifestLoadingTimeOut:2e4,maxBufferHole:5,maxSeekHole:5,startLevel:-1,startPosition:a,xhrSetup:i.xhrSetup.bind(i),capLevelToPlayerSize:!n&&!t,debug:{trace:function(e){i.logger.log("HlsJs.trace",e)},debug:function(e){i.logger.log("HlsJs.debug",e)},log:function(e){i.logger.log("HlsJs.log",e)},warn:function(e){i.logger.log("HlsJs.warn",e)},info:function(e){i.logger.log("HlsJs.info",e)},error:function(e){i.logger.log("HlsJs.error",e)}}}),i.hlsJs.on(N.Events.ERROR,i.onHlsJsError.bind(i,r)),i.hlsJs.on(N.Events.FRAG_LOADING,i.onFragmentLoading),i.hlsJs.on(N.Events.FRAG_PARSING_INIT_SEGMENT,i.onFragmentParsingInitSegment),i.hlsJs.on(N.Events.LEVEL_SWITCH,i.onLevelSwitch),i.hlsJs.loadSource(e.src),i.hlsJs.attachMedia(i.videoTag),i.hlsJs.on(N.Events.MANIFEST_PARSED,i.onManifestParsed.bind(i,n))}).catch(function(){i.store.dispatch(Object(A.h)(i.playerId,new Error(O.a.CONFIG_NETWORK_ERROR+":HlsJsChunk")))})},t.renderHtml5=function(e){return this.videoTag.setAttribute("preload",this.precache?"auto":"none"),this.videoTag.setAttribute("src",e.src),this.videoTag.setAttribute("type",e.type),Promise.resolve()},t.onManifestParsed=function(e,t,n){var r=n.levels;if(e){var i;for(i=1;i<r.length&&!(r[i].bitrate>e);i++);this.hlsJs.autoLevelCapping=i-1}this.dispatchPlayerReady()},t.dispatchPlayerReady=function(){this.store.dispatch(Object(D.l)(this.playerId))},t.render360=function(){this.canvas=new b(this.videoTag,this.logger),this.videoTag.setAttribute("crossorigin","anonymous")},t.renderContainer=function(){var e=document.createElement("div");if(e.style.position="relative",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="transparent",e.style.overflow="hidden",e.appendChild(this.videoTag),this.canvas&&e.appendChild(this.canvas.getCanvasRef()),Object(x.b)()){var t=document.createElement("style"),n=document.createTextNode("video::-webkit-media-controls { display: none !important; }");t.appendChild(n),e.appendChild(t)}this.domElement.innerHTML="",this.domElement.appendChild(e)},t.getPlayerState=function(){return this.store.getState().players[this.playerId]||{}},t.getCurrentTrack=function(){var e=this.getPlayerState();return Object(I.b)(e)},t.getInitialTimeCode=function(){var e=this.reloadTimecode,t=this.getCurrentTrack(),n=t.isLive,r=t.isLiveTimecode,i=[e,t.requestedTimecode,t.replayEditedStartTime].find(function(e){return e>0||0===e});return n&&!r||void 0===i?-1:i},t.isUserRequestedCaptions=function(){return this.getPlayerState().userSpecifiedCaptions},t.isSeekable=function(e){if(0===e||e>0)for(var t=this.videoTag.seekable,n=t.length,r=0;r<n;r++)if(t.start(r)<=e&&e<=t.end(r))return!0;return!1},t.cleanupVideoElement=function(){if(this.hasCaptions())for(var e=this.getCaptionsTrack();e.cues.length;)e.removeCue(e.cues[0])},t.render=function(){var e=this,t=this.getPlayerState(),n=t.posterImage;if(void 0!==t.currentTrackId)if(t.error)this.teardownPlayer();else{var r=this.getCurrentTrack();if(this.renderedTrackId!==t.currentTrackId){this.cleanupVideoElement(),this.hlsJs&&(this.hlsJs.destroy(),this.hlsJs=void 0,this.hasLoaded=!1),n&&this.videoTag.setAttribute("poster",n);var i=r.is360,a=r.isLive,s=r.shouldLoop,o=r.reloadTimecode;a||(this.reloadTimecode=o),this.hasInitialSeeked=!1,this.renderedTrackId=t.currentTrackId,this.playerRenderPromise=this.renderVideoVariant(),this.playerRenderPromise.then(function(){i&&e.render360(),e.renderContainer(),e.isLive=a,e.shouldLoop=s,e.videoTag.volume=Object(M.a)("volume",1)||1,e.playerRenderPromise=void 0})}r.playerReady&&(this.handleControlUpdate(t.controls),this.renderRotationAndScale(r))}},t.renderRotationAndScale=function(e){var t=this.videoTag,n=100,r=100,i=0,a=0;if(90===e.rotation||-90===e.rotation){var s=t.parentNode||{},o=s.offsetWidth/s.offsetHeight;isFinite(o)&&(i=(100-(r=100*o))/2,a=(100-(n=100/o))/2)}t.style.width=n+"%",t.style.height=r+"%",t.style.top=i+"%",t.style.left=a+"%",t.style.transform="rotate("+e.rotation+"deg) scale(1.005)",t.style.objectFit=this.objectFitVideo},e}();function Z(e){return void 0!==e.getTime?e.getTime():e}t.a=q},"5F3G":function(e,t,n){"use strict";var r=n("IfHf");t.__esModule=!0,t.default=void 0;var i=n("hBV6");t.updateAudioLevels=i.updateAudioLevels;var a=n("yHtB");t.updateGuestInfo=a.updateGuestInfo;var s=r(n("E8n+"));t.hydraMiddleware=s.default,t.registerExperience=s.registerExperience;var o=r(n("ICEJ"));t.resetGuestState=o.resetGuestState,t.teardownExperience=o.teardownExperience;var c=o.default;t.default=c},"6gFT":function(e,t,n){"use strict";t.b=function(e){return Object.keys(e).map(function(t){var n=void 0===e[t]?"":encodeURIComponent(e[t]);return encodeURIComponent(t)+"="+n}).join("&")};var r=n("FaZr"),i=(n.n(r),n("Rk41")),a=(n.n(i),n("qwQ3")),s=(n.n(a),n("MfeA")),o=(n.n(s),n("fx22")),c=(n.n(o),n("WgSQ")),u=(n.n(c),n("gYYG")),d=(n.n(u),n("tJwI")),l=(n.n(d),n("w6W7"));n.n(l);var h=function(){function e(e){try{this.parser=new URL(e)}catch(t){this.parser=document.createElement("a"),this.parser.href=e}}var t=e.prototype;return t.getHostname=function(){return this.parser.hostname},t.getPath=function(){return this.parser.pathname},t.isSafe=function(){return!!this.parser.protocol.match(/^https?:$/)},t.addSearchParam=function(e,t){this.parser.search?this.parser.search=this.parser.search+"&"+e+"="+t:this.parser.search="?"+e+"="+t},t.toString=function(){return this.parser.href},e}();t.a=h},"7gH7":function(e,t,n){"use strict";(function(e){var r=n("fx22"),i=(n.n(r),n("WgSQ")),a=(n.n(i),n("tJwI")),s=(n.n(a),n("n12u")),o=(n.n(s),n("y9m4")),c=(n.n(o),n("gYYG")),u=(n.n(c),n("+CM9")),d=(n.n(u),n("CEO+")),l=(n.n(d),n("fKPv")),h=n.n(l),f=n("ro3u"),p=n("FGAz"),v=n("bLx6"),E=n("S1Or"),g=n("vAVP"),T=n("1wiv"),y=n("lmuO"),m=n("bb2B"),b=n("gqLP"),O=n("jlGQ"),I=n("RaJe"),R=n("sDn+"),_=n("eNdu"),S=n("gf1G"),P=n.n(S),w=n("45IN"),C=n("J1g3"),A=n("sQlR"),L=n("/Uk5"),D=n("aYTN"),k=n("5F3G"),U=(n.n(k),n("f+ng")),j=function(){function t(n){var r=this,i=n.source,a=void 0===i?{}:i,s=n.videoConfig,o=n.domElement,c=n.httpClient,u=n.twitterAuthedHttpClient,d=n.options,l=void 0===d?{}:d;h()(this,"teardown",function(){r.broadcastUpdater&&r.broadcastUpdater.cancelUpdate(),r.unsubscribeCalls.forEach(function(e){e()}),r.unsubscribeCalls=[],Object(C.c)(r.id),r.source=void 0,r.session=void 0,R.a.dispatch(Object(_.c)(r.id)),void 0!==r.hydraExperienceId&&R.a.dispatch(Object(k.teardownExperience)(r.hydraExperienceId)),r.video&&r.video.teardown(),Object(L.g)(r.id),r.logger.clearLogs(),r.rejectPlayerReadyPromise()}),h()(this,"play",function(){return r.initiallyMuted?r.playPreview():r.playerReadyPromise.then(function(){R.a.dispatch(f.L(r.id))}),r}),h()(this,"pause",function(){return r.playerReadyPromise.then(function(){R.a.dispatch(f.K(r.id))}),r}),h()(this,"replay",function(){return r.playerReadyPromise.then(function(){R.a.dispatch(f.M(r.id))}),r}),h()(this,"mute",function(){return r.playerReadyPromise.then(function(){R.a.dispatch(f.J(r.id))}),r}),h()(this,"unmute",function(){return r.playerReadyPromise.then(function(){R.a.dispatch(f.O(r.id))}),r}),h()(this,"scrubToFraction",function(e){return r.playerReadyPromise.then(function(){R.a.dispatch(f.N(r.id,e))}),r}),h()(this,"setVolume",function(e){return r.playerReadyPromise.then(function(){R.a.dispatch(f.P(r.id,e))}),r}),h()(this,"fullScreen",function(e){var t=e||r.domElement;return R.a.dispatch(Object(U.f)(r.id,t,r.video.getVideoTag())),r}),h()(this,"exitFullScreen",function(){return R.a.dispatch(Object(U.g)(r.id)),r}),h()(this,"hideControls",function(){return r.playerReadyPromise.then(function(){R.a.dispatch(f.F(r.id))}),r}),h()(this,"showControls",function(){return r.playerReadyPromise.then(function(){R.a.dispatch(f.Q(r.id))}),r}),h()(this,"playPreview",function(){return r.playerReadyPromise.then(function(){R.a.dispatch(Object(D.f)(r.id)),r.initiallyMuted&&(r.initiallyMuted=!1)}),r}),h()(this,"pausePreview",function(){return r.playerReadyPromise.then(function(){R.a.dispatch(Object(D.e)(r.id))}),r}),h()(this,"objectFitVideo",function(e){return-1!==y.c.indexOf(e)&&r.video&&(r.video.objectFitVideo=e),r}),h()(this,"toggleCaptions",function(){return r.playerReadyPromise.then(function(){var e=R.a.getState(),t=e&&e.players&&e.players[r.id],n=!(!t||!t.areCaptionsShown);R.a.dispatch(n?f.H(r.id,!0):f.I(r.id,!0))}),r}),h()(this,"nextTrack",function(){return r.playerReadyPromise.then(function(){R.a.dispatch(Object(T.k)(r.id))}),r}),h()(this,"triggerError",function(e){var t=new Error(e||"synthetic");return R.a.dispatch(Object(m.h)(r.id,t)),r}),h()(this,"reload",function(e){var t=void 0===e?{}:e,n=t.requestedTimecode,i=t.autoPlay,a=void 0!==i&&i;r.playerReadyPromise=new Promise(function(e,t){r.resolvePlayerReadyPromise=e,r.rejectPlayerReadyPromise=t}).catch(function(){});var s=(R.a.getState()||{players:{}}).players[r.id],o=-1;if(s){if(void 0!==n)r.playerOptions.requestedTimecode=n;else if(0===s.currentTrackId){o=Object(v.b)(s).currentTimeMs/1e3}var c=s.isPreview,u=s.isPlaying,d=s.isMuted,l=u||a;r.playerReadyPromise.then(function(){c?l?R.a.dispatch(Object(D.f)(r.id)):R.a.dispatch(Object(D.e)(r.id)):(l&&R.a.dispatch(f.L(r.id)),d&&R.a.dispatch(f.J(r.id)))})}return r.video&&r.video.teardownPlayer(),R.a.dispatch(r._reloadPlayer(r.id,r.source,r.videoConfig,r.session,r.resolvePlayerReadyPromise,r.rejectPlayerReadyPromise,Object.assign({},r.playerOptions,{reloadTimecode:o}))),r}),h()(this,"on",function(e,t){return Object.keys(p.a).forEach(function(n){p.a[n]===e&&Object(C.a)(r.id,e,t)}),r}),h()(this,"updatePosition",function(e){var t=e.percentVisible,n=e.percentOfViewportOccupied,i=e.sizesInfo;return r.playerReadyPromise.then(function(){R.a.dispatch(f.R(r.id,t,n,i))}),r}),h()(this,"callToActionClicked",function(){return r.playerReadyPromise.then(function(){R.a.dispatch(f.B(r.id))}),r}),h()(this,"callToActionImpression",function(){return r.playerReadyPromise.then(function(){R.a.dispatch(f.C(r.id))}),r}),h()(this,"liveClickthroughClicked",function(){return r.playerReadyPromise.then(function(){R.a.dispatch(f.G(r.id))}),r}),h()(this,"subscribe",function(e){var t=R.a.subscribe(function(){var t,n=R.a.getState(),i=n.players[r.id];void 0!==i&&(void 0!==r.hydraExperienceId&&"object"==typeof n.hydraExperiences&&(t=n.hydraExperiences[r.hydraExperienceId]),e(i,t))});return r.unsubscribeCalls.push(t),t}),h()(this,"onStoreUpdate",function(e){e.errorInfo.autoRetry&&setTimeout(function(){r.reload()},e.errorInfo.backoffMs||0)}),this.id=t.id++,this.unsubscribeCalls=[],this.source=a,this.videoConfig=s,this.session={id:P()()},this.initiallyMuted=l.initiallyMuted,this._reloadPlayer=A.j,this.playerReadyPromise=new Promise(function(e,t){r.resolvePlayerReadyPromise=e,r.rejectPlayerReadyPromise=t}).then(Promise.resolve()).catch(function(){}),l.autoplay&&this.play(),this.logger=new g.a(this.id),e.env.VIDEO_PLAYER_DEBUG&&(g.a.debuggingEnabled=!0),Object(L.f)(this.id,new b.a(new O.a(c)),new b.a(new O.a(u||c)),this.logger,new E.a,l.featureProvider),this.subscribe(this.onStoreUpdate),this.source.type===I.a.BROADCAST&&(this.hydraExperienceId=l.hydraExperienceId=R.a.dispatch(Object(k.registerExperience)())),this.options=l,this.playerOptions={bitrateCap:l.bitrateCap,enableNativeFullscreen:l.enableNativeFullscreen,featureProvider:l.featureProvider,includeBroadcastEventAssociation:l.includeBroadcastEventAssociation,initiallyMutedCaptions:l.initiallyMutedCaptions,intentToPlayTime:l.intentToPlayTime,maxLoopCount:l.maxLoopCount,promotedContext:l.promotedContext,requestedTimecode:l.requestedTimecode,showGeolocationPrompt:l.showGeolocationPrompt},R.a.dispatch(Object(A.g)(this.id,a,s,this.session,l.analytics,l.adProvider,this.resolvePlayerReadyPromise,this.rejectPlayerReadyPromise,this.playerOptions)).then(function(e){r.broadcastUpdater=e}),o&&this.attach(o)}return t.prototype.attach=function(e){this.video||(this.domElement=e,this.video=new w.a(this.domElement,this.id,R.a,this.reload,this.logger,this.options))},t}();h()(j,"id",0),t.a=j}).call(t,n("lNQ5"))},"91Pj":function(e,t,n){"use strict";n.d(t,"d",function(){return p}),n.d(t,"e",function(){return v}),n.d(t,"c",function(){return E}),n.d(t,"a",function(){return g});var r,i=n("VjuZ"),a=(n.n(i),n("lnZN")),s=(n.n(a),n("wnRD")),o=(n.n(s),n("fx22")),c=(n.n(o),n("WgSQ")),u=(n.n(c),n("tJwI")),d=(n.n(u),n("FaZr")),l=(n.n(d),n("Rk41")),h=(n.n(l),n("gYYG")),f=(n.n(h),{}),p=function(e){r=e},v=function(e){void 0===e&&(e={}),f=e},E=function(e){return r?r(e):e.toString()},g=function(){return Object.keys(f).length>0};t.b=function(e,t){void 0===t&&(t={});var n=f[e]||e;return Object.keys(t).reduce(function(e,n){var r=new RegExp("%{"+n+"}","g");return e.replace(r,t[n])},n)}},A76Y:function(e,t,n){"use strict";var r=n("n12u"),i=(n.n(r),n("7gH7")),a={showControls:!0,promotedContext:{}};t.a={createPlayer:function(e){var t=e.domElement,n=e.source,r=e.videoConfig,s=e.httpClient,o=e.twitterAuthedHttpClient,c=e.options,u=void 0===c?{}:c;return new i.a({videoConfig:r,source:n,domElement:t,httpClient:s,twitterAuthedHttpClient:o,options:Object.assign({},a,u)})}}},AiFV:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var i,a,s=n("C+iE"),o=(i=s)&&i.__esModule?i:{default:i};a="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var c=(0,o.default)(a);t.default=c}).call(t,n("DuR2"),n("3IRH")(e))},"C+iE":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},"E8n+":function(e,t,n){"use strict";var r=n("R6lU");t.__esModule=!0,t.default=t.registerExperience=t.REGISTER_EXPERIENCE=void 0,n("yuXV");var i=r(n("rzQm"));n("QBuC"),n("dULJ"),n("fx22"),n("WgSQ"),n("tJwI"),n("w6W7");var a=n("ICEJ");t.REGISTER_EXPERIENCE="REGISTER_EXPERIENCE";t.registerExperience=function(){return{type:"REGISTER_EXPERIENCE"}};t.default=function(e){return function(t){return function(n){switch(n.type){case"REGISTER_EXPERIENCE":var r=e.getState(),s=Object.keys(r.hydraExperiences||{}).map(function(e){return Number.parseInt(e,10)}),o=Math.max.apply(Math,(0,i.default)(s))+1;return Number.isFinite(o)||(o=0),e.dispatch((0,a.initializeExperience)(o)),o;default:return t(n)}}}}},G6ov:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},H1Jv:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("lmuO"),i=n("KSGD"),a=n.n(i),s={displayOptions:{},variants:[]};t.b={adProvider:a.a.func,analytics:a.a.object,autoplay:a.a.bool,bitrateCap:a.a.number,contentId:a.a.string,contentType:a.a.oneOf(["media_entity","gif","vmap"]),controls:a.a.bool,customOverlay:a.a.node,displayOptions:a.a.shape({objectFitVideo:a.a.oneOf(r.c)}),durationMs:a.a.number,enableNativeFullscreen:a.a.bool,eventId:a.a.string,featureProvider:a.a.shape({getValue:a.a.func}),geolocationPrompt:a.a.bool,httpClient:a.a.object,includeBroadcastEventAssociation:a.a.bool,initiallyMuted:a.a.bool,initiallyMutedCaptions:a.a.bool,intentToPlayTime:a.a.instanceOf(Date),language:a.a.string,loop:a.a.bool,maxLoopCount:a.a.number,mediaAvailability:a.a.object,precache:a.a.bool,promotedContext:a.a.object,publisherId:a.a.string,requestedTimecode:a.a.string,setPlayerApi:a.a.func,twitterAuthedHttpClient:a.a.object,variants:a.a.arrayOf(a.a.shape({src:a.a.string,type:a.a.string})),videoEl:a.a.object,videoId:a.a.object,viewCount:a.a.oneOfType([a.a.string,a.a.number]),vmapUrl:a.a.string}},ICEJ:function(e,t,n){"use strict";var r=n("IfHf"),i=n("R6lU");t.__esModule=!0,t.default=t.resetGuestState=t.RESET_GUEST_STATE=t.teardownExperience=t.TEARDOWN_EXPERIENCE=t.initializeExperience=t.INITIALIZE_EXPERIENCE=void 0,n("n12u");var a=n("nU19"),s=i(n("yHtB")),o=r(n("hBV6"));t.INITIALIZE_EXPERIENCE="INITIALIZE_EXPERIENCE";t.initializeExperience=function(e){return{type:"INITIALIZE_EXPERIENCE",experienceId:e}};t.TEARDOWN_EXPERIENCE="TEARDOWN_EXPERIENCE";t.teardownExperience=function(e){return{type:"TEARDOWN_EXPERIENCE",experienceId:e}};t.RESET_GUEST_STATE="RESET_GUEST_STATE";t.resetGuestState=function(e){return{type:"RESET_GUEST_STATE",experienceId:e}};var c={audioLevels:o.InitialState,guests:{}},u=(0,a.combineReducers)({audioLevels:o.default,guests:s.default});t.default=function(e,t,n){var r;if(void 0===e&&(e={}),void 0===n&&(n=u),void 0!==t.experienceId)switch(t.type){case"INITIALIZE_EXPERIENCE":case"RESET_GUEST_STATE":return Object.assign({},e,((r={})[t.experienceId]=c,r));case"TEARDOWN_EXPERIENCE":var i=Object.assign({},e);return delete i[t.experienceId],i;default:var a,s=n(e[t.experienceId],t);return Object.assign({},e,((a={})[t.experienceId]=s,a))}return e}},J1g3:function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"c",function(){return E});var r,i=n("WpTh"),a=(n.n(i),n("CEO+")),s=(n.n(a),n("sQlR")),o=n("ZQ6P"),c=n("FGAz"),u=n("bb2B"),d=n("f+ng"),l=n("ro3u"),h=n("1wiv"),f=((r={})[h.c]=c.a.READY,r[h.e]=c.a.PLAYBACK_COMPLETE,r[l.v]=c.a.PAUSE,r[l.w]=c.a.PLAY,r),p={},v=function(e,t,n){void 0===p[e]&&(p[e]={}),void 0===p[e][t]&&(p[e][t]=[]),p[e][t].push(n)},E=function(e){delete p[e]};t.b=function(e){return function(t){return function(n){var r,i,a=n.playerId,h=n.type,v=e.getState().players[a],E=t(n),g=e.getState().players[a];if(a in p){var T=v.tracks.find(function(e){return"content"===e.displayType}),y=g.tracks.find(function(e){return"content"===e.displayType});switch(h){case u.c:n.thrownError.message===o.a.LIVE_VIDEO_GEOBLOCK_ERROR?r=c.a.GEOBLOCK_ERROR:n.thrownError.message===o.a.LIVE_VIDEO_NO_COOKIES_ERROR&&(r=c.a.NO_COOKIES_ERROR);break;case l.z:!v.isMuted&&g.isMuted?r=c.a.MUTE:v.isMuted&&!g.isMuted&&(r=c.a.UNMUTE);break;case s.a:if(T.isLive&&!y.isLive)r=c.a.LIVE_ENDED;else if(!T.isLive&&y.isLive)r=c.a.LIVE_STARTED;else if(v.eventTitle!==g.eventTitle||v.eventDescription!==g.eventDescription||v.eventUrl!==g.eventUrl){var m=g.eventTitle,b=g.eventDescription,O=g.eventUrl;r=c.a.BROADCAST_EVENT_ASSOCIATION_UPDATED,i={eventTitle:m,eventDescription:b,eventUrl:O}}break;case l.h:v.liveClickthroughClicked!==g.liveClickthroughClicked&&(r=c.a.LIVE_CLICKTHROUGH);break;case d.d:var I=v.fullscreen.isFullscreen,R=g.fullscreen.isFullscreen;!I&&R?r=c.a.FULLSCREEN_ENTERED:I&&!R&&(r=c.a.FULLSCREEN_EXITED);break;default:r=f[h]}!function(e,t,n){t in p[e]&&(p[e][t],1)&&p[e][t].forEach(function(e){"function"==typeof e&&e(n)})}(a,r,i),r===c.a.READY&&function(e,t){t in p[e]&&delete p[e][t]}(a,r)}return E}}}},"M/Jh":function(e,t,n){e.exports=n("AiFV")},M9Zj:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},OgTs:function(e,t,n){var r=n("OzIq").parseInt,i=n("Ymdd").trim,a=n("Xduv"),s=/^[-+]?0[xX]/;e.exports=8!==r(a+"08")||22!==r(a+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(s.test(n)?16:10))}:r},P2Kr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("M1I4"),i=n.n(r),a=n("86MP"),s=n.n(a),o=n("fKPv"),c=n.n(o),u=n("A76Y"),d=n("lmuO"),l=n("H1Jv"),h=n("GiK3"),f=n.n(h);n.d(t,"CreatePlayer",function(){return u.a}),n.d(t,"OBJECT_FIT_VALUES",function(){return d.c});var p={base:{height:"100%",position:"relative",transform:"translateZ(0)",width:"100%"},wrapper:{height:"100%",position:"absolute",width:"100%"}},v=function(e){function t(t){var n;return n=e.call(this,t)||this,c()(i()(n),"_setVideoRef",function(e){e&&n.videoPlayer.attach(e)}),c()(i()(n),"_setContainerRef",function(e){n.containerDomElement=e}),c()(i()(n),"_renderCustomOverlay",function(){if(n.props.customOverlay)return n.props.customOverlay}),n.videoPlayer=u.a.createPlayer({source:n.props.videoId,videoConfig:{contentId:n.props.contentId,contentType:n.props.contentType,cta:n.props.cta,durationMs:n.props.durationMs,expandedUrl:n.props.expandedUrl,eventId:n.props.eventId,mediaAvailability:n.props.mediaAvailability,publisherId:n.props.publisherId,poster:n.props.poster,loop:n.props.loop,variants:n.props.variants,viewCount:n.props.viewCount,vmapUrl:n.props.vmapUrl},httpClient:n.props.httpClient,twitterAuthedHttpClient:n.props.twitterAuthedHttpClient,options:{autoplay:n.props.autoplay,adProvider:n.props.adProvider,analytics:n.props.analytics,bitrateCap:n.props.bitrateCap,enableNativeFullscreen:n.props.enableNativeFullscreen,featureProvider:n.props.featureProvider,hlsjsVersion:n.props.hlsjsVersion,includeBroadcastEventAssociation:n.props.includeBroadcastEventAssociation,initiallyMuted:n.props.initiallyMuted,initiallyMutedCaptions:n.props.initiallyMutedCaptions,intentToPlayTime:n.props.intentToPlayTime,language:n.props.language,maxLoopCount:n.props.maxLoopCount,objectFitVideo:n.props.displayOptions.objectFitVideo,precache:n.props.precache,promotedContext:n.props.promotedContext,requestedTimecode:n.props.requestedTimecode,showControls:!1,showGeolocationPrompt:n.props.geolocationPrompt,videoEl:n.props.videoEl}}),n.props.setPlayerApi&&n.props.setPlayerApi(n.videoPlayer),n}s()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){try{this.videoPlayer.teardown()}catch(e){}},n.render=function(){return f.a.createElement("div",{ref:this._setContainerRef,style:p.base},f.a.createElement("div",{ref:this._setVideoRef,style:p.wrapper}),this._renderCustomOverlay())},t}(h.PureComponent);c()(v,"defaultProps",l.a),v.propTypes={},t.default=v},QTvf:function(e,t,n){"use strict";t.b=function(e,t){var n=e.getState();if(n&&n.players&&n.players[t])return n.players[t];return{}},n.d(t,"a",function(){return i});var r=n("ZQ6P");var i=function(e){if(e&&"unavailable"===e.status)switch(e.reason){case"geoblocked":return r.a.MEDIA_GEOBLOCK_ERROR;case"deleted":return r.a.ORIGINAL_CONTEXT_DELETED;case"dmcaed":return r.a.DMCA_TAKEDOWN_ERROR}return null}},S1Or:function(e,t,n){"use strict";var r=function(){function e(){this.byteAccumulator=0}var t=e.prototype;return t.add=function(e){this.byteAccumulator+=e},t.getAndReset=function(){var e=this.byteAccumulator;return this.byteAccumulator=0,e},e}();t.a=r},THnP:function(e,t,n){n("77Ug")("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},ZQ6P:function(e,t,n){"use strict";t.a={BROADCAST_REQUEST_ERROR:"BROADCAST_REQUEST_ERROR",BROADCAST_ENDED_NO_REPLAY:"BROADCAST_ENDED_NO_REPLAY",BROADCAST_NOT_FOUND:"BROADCAST_NOT_FOUND",CONFIG_USER_DATA_NETWORK_ERROR:"CONFIG_USER_DATA_NETWORK_ERROR",CONFIG_NETWORK_ERROR:"CONFIG_NETWORK_ERROR",DMCA_TAKEDOWN_ERROR:"DMCA_TAKEDOWN_ERROR",LIVE_PARSE_ERROR:"LIVE_PARSE_ERROR",LIVE_STREAM_ACQUISITION_MISSING_CONTENT_ID:"LIVE_STREAM_ACQUISITION_MISSING_CONTENT_ID",LIVE_STREAM_ACQUISITION_NETWORK_ERROR:"LIVE_STREAM_ACQUISITION_NETWORK_ERROR",LIVE_VIDEO_GEOBLOCK_ERROR:"LIVE_VIDEO_GEOBLOCK_ERROR",LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR:"LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR",LIVE_VIDEO_GEOLOCATION_PROMPT:"LIVE_VIDEO_GEOLOCATION_PROMPT",LIVE_VIDEO_NO_COOKIES_ERROR:"LIVE_VIDEO_NO_COOKIES_ERROR",MEDIA_NOT_SUPPORTED:"MEDIA_NOT_SUPPORTED",MEDIA_SRC_INVALID_ERROR:"MEDIA_SRC_INVALID_ERROR",MEDIA_ABORTED:"MEDIA_ABORTED",MEDIA_NETWORK_ERROR:"MEDIA_NETWORK_ERROR",MEDIA_DECODE_ERROR:"MEDIA_DECODE_ERROR",MEDIA_GEOBLOCK_ERROR:"MEDIA_GEOBLOCK_ERROR",MEDIA_UNKNOWN_CODE_ERROR:"MEDIA_UNKNOWN_CODE_ERROR",ORIGINAL_CONTEXT_DELETED:"ORIGINAL_CONTEXT_DELETED",UNSUPPORTED_TYPE:"UNSUPPORTED_TYPE",VMAP_NETWORK_ERROR:"VMAP_NETWORK_ERROR",VMAP_PARSE_ERROR:"VMAP_PARSE_ERROR"}},aYTN:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return h});var r=n("WpTh"),i=(n.n(r),n("n12u")),a=(n.n(i),n("sQlR")),s=n("f+ng"),o=n("ro3u"),c="PLAY_PREVIEW",u=function(e){return{type:c,playerId:e}},d="PAUSE_PREVIEW",l=function(e){return{type:d,playerId:e}};t.d=function(e,t){switch(t.type){case a.c:return Object.assign({},e,{initiallyMutedCaptions:t.initiallyMutedCaptions});case c:return e.isPlaying?e:Object.assign({},e,{isPreview:!0,controls:Object.assign({},e.controls,{muteState:o.i.MUTE_REQUESTED})});case d:return Object.assign({},e,{isPreview:!0,controls:Object.assign({},e.controls,{muteState:o.i.MUTE_REQUESTED})});case o.o:case o.p:case o.r:case o.s:case o.q:case s.b:if(!e.isPreview)return e;var n="gif"===e.tracks.find(function(t){return t.id===e.currentTrackId}).contentType?void 0:o.i.UNMUTE_REQUESTED;return Object.assign({},e,{isPreview:!1,controls:Object.assign({},e.controls,{muteState:n})});default:return e}};var h={isPreview:!1}},bLx6:function(e,t,n){"use strict";n.d(t,"d",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return p}),n.d(t,"a",function(){return E});var r=n("n12u"),i=(n.n(r),n("FaZr")),a=(n.n(i),n("Rk41")),s=(n.n(a),n("gYYG")),o=(n.n(s),n("w6W7")),c=(n.n(o),n("lnZN")),u=(n.n(c),n("fOdq")),d=(n.n(u),n("WpTh")),l=(n.n(d),n("6gFT")),h=function(e,t){if(e.tracks)return e.tracks.find(function(e){return e.id===t})},f=function(e){return h(e,e.currentTrackId)},p=function(e){return e.tracks?e.tracks.filter(function(t){return t.id!==e.currentTrackId}):[]},v=new RegExp(/^https:\/\/[\w-]+.twimg.com\/.+\.m3u8/),E=function(e){return void 0===e&&(e=[]),e.map(g)},g=function(e){var t=e.src;if(v.test(t)){var n=new l.a(t);n.addSearchParam("descending",!0),t=n.toString()}return Object.assign({},e,{src:t})}},bb2B:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"h",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return h}),n.d(t,"b",function(){return E});var r=n("n12u"),i=(n.n(r),n("QTvf")),a=n("ZQ6P"),s=n("sQlR"),o="PLAYBACK_ERROR",c=function(e,t){return{type:o,playerId:e,thrownError:t,isFatal:!0}},u="CONFIGURATION_LOAD_ERROR",d=function(e,t){return{type:u,playerId:e,thrownError:t,isFatal:!0}},l=function(e){return{type:"ERROR_RESOLVED",playerId:e}},h=function(e){return{type:"GEOLOCATION_PROMPT",playerId:e}},f=function(e){switch(e.message){case a.a.BROADCAST_ENDED_NO_REPLAY:case a.a.BROADCAST_NOT_FOUND:case a.a.DMCA_TAKEDOWN_ERROR:case a.a.ORIGINAL_CONTEXT_DELETED:case a.a.LIVE_VIDEO_GEOBLOCK_ERROR:case a.a.LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR:case a.a.LIVE_VIDEO_GEOLOCATION_PROMPT:case a.a.MEDIA_GEOBLOCK_ERROR:case a.a.MEDIA_NOT_SUPPORTED:return!1;default:return!0}},p=function(e){if(!f(e))return!1;switch(e.message){case a.a.LIVE_VIDEO_NO_COOKIES_ERROR:return!1;default:return!0}},v=function(e,t){var n=t.errorInfo.count+1,r=f(e),i=p(e)&&n<=t.errorInfo.retryMax;return{backoffMs:i?1e3*t.errorInfo.count:E.backoffMs,count:n,canRetry:r,autoRetry:i}};t.e=function(e,t){switch(t.type){case s.b:var n=parseInt(e.features.fatalErrorRetryMax,10),r=isNaN(n)?E.errorInfo.retryMax:n;return Object.assign({},e,{errorInfo:Object.assign({},e.errorInfo,{retryMax:r})});case s.e:return Object.assign({},e,{error:void 0,errorInfo:Object.assign({},e.errorInfo,{autoRetry:!1,canRetry:!1})});case u:var c,d=t.thrownError,l=v(d,e);return d.message===a.a.LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR&&(c=d.restriction),Object.assign({},e,{error:d.message,errorData:c,errorInfo:Object.assign({},e.errorInfo,l)});case o:var h=t.thrownError,g=Object(i.a)(e.mediaAvailability),T=g?new Error(g):h,y=v(T,e);return Object.assign({},e,{error:T.message,errorInfo:Object.assign({},e.errorInfo,y)});case"ERROR_RESOLVED":return Object.assign({},e,{error:void 0,errorInfo:Object.assign({},e.errorInfo,{autoRetry:!1,canRetry:!1})});case"GEOLOCATION_PROMPT":var m=new Error(a.a.LIVE_VIDEO_GEOLOCATION_PROMPT);return Object.assign({},e,{error:m.message,errorInfo:Object.assign({},e.errorInfo,{autoRetry:p(m),canRetry:f(m)})});default:return e}};var E={error:void 0,errorInfo:{autoRetry:!1,backoffMs:void 0,canRetry:!1,count:0,retryMax:0},errorData:void 0}},dTzs:function(e,t,n){n("77Ug")("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},dULJ:function(e,t,n){var r=n("Ds5P"),i=n("OgTs");r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},dcfe:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"a",function(){return h});var r=n("rzQm"),i=n.n(r),a=n("+CM9"),s=(n.n(a),n("WpTh")),o=(n.n(s),n("n12u")),c=(n.n(o),n("aYTN")),u=n("ro3u"),d=function(e,t,n){return function(r){var i=t();r(l(e,i)),r(n?Object(c.f)(e):Object(u.L)(e))}},l=function(e,t){return{type:"AD_LOADED",playerId:e,adResponse:t}};t.b=function(e,t){switch(t.type){case"AD_LOADED":var n=e.tracks,r=t.adResponse;if(void 0===r.mediaInfo)return Object.assign({},e,{adLoaded:!0});var a,s=r.mediaInfo.variants.find(function(e){return 0===e.content_type.indexOf("application/x-mpegURL")}),o=r.promotedContent||{};return r.mediaInfo.call_to_action&&(a={type:"watch_now"===r.mediaInfo.call_to_action.type?"watch":"url",url:r.mediaInfo.call_to_action.url}),Object.assign({},e,{currentTrackId:1,nextTrackIds:[0],tracks:[].concat(i()(n),[{id:1,displayType:"ad",cta:a,contentId:r.adId,contentType:"media_entity",publisherId:r.mediaInfo.publisher_id_str,durationMs:r.mediaInfo.duration_millis,shouldLoop:!1,impressionId:o.impressionId,disclosureType:o.disclosureType,dynamicPrerollType:r.dynamicPrerollType,rotation:0,variants:[{src:s.url,type:s.content_type}],currentVariantIndex:0}]),videoAnalyticsScribePassthrough:r.videoAnalyticsScribePassthrough,adLoaded:!0});default:return e}};var h={adLoaded:!1}},eNdu:function(e,t,n){"use strict";n("wnRD"),n("n12u");var r=n("dcfe"),i=n("aYTN"),a=(n("QBuC"),n("9Yib"),n("A0n/"),n("rzQm")),s=n.n(a),o=(n("w6W7"),n("Z8+c")),c=n.n(o),u=n("sQlR"),d=n("1wiv"),l=n("ro3u"),h=n("bLx6");function f(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var p=function(e,t){e[t];return c()(e,[t].map(f))},v=function(e){var t=e.intentToPlayTime;return void 0===t?new Date:t},E={volume:1,areCaptionsShown:!1,hasCaptions:!1,hasPlaybackStarted:!1,intentToPlayTime:void 0,isMuted:!1,isPlaying:!1,isScrubbing:!1,controls:{isHidden:!0,isPosterShown:!0}},g=n("bb2B"),T=n("f+ng");n.d(t,"a",function(){return b}),n.d(t,"c",function(){return O});var y=Object.assign({},r.a,i.a,E,u.d,g.b,T.a,d.a,{percentVisible:1,percentOfViewportOccupied:1,sizesInfo:{}}),m=[r.b,u.h,function(e,t){var n;switch(t.type){case u.c:return Object.assign({},e,{intentToPlayTime:t.intentToPlayTime});case l.o:case i.c:return e.isPlaying&&e.controls.playState!==l.j.PAUSE_REQUESTED?e:Object.assign({},e,{intentToPlayTime:v(e),controls:Object.assign({},e.controls,{playState:l.j.PLAY_REQUESTED})});case i.b:case l.n:case l.b:return e.isPlaying||e.controls.playState===l.j.PLAY_REQUESTED?Object.assign({},e,{controls:Object.assign({},e.controls,{playState:l.j.PAUSE_REQUESTED})}):e;case l.p:var r=Object(h.b)(e),a=Object(h.c)(e);return r&&"maxLoopCount"in r&&(r.loopCounter=0,r.shouldLoop=!0),Object.assign({},e,{intentToPlayTime:v(e),tracks:r?[].concat(s()(a),[Object.assign({},r)]):e.tracks,controls:Object.assign({},e.controls,{isReplayButtonShown:!1,playState:l.j.PLAY_REQUESTED})});case l.w:return n=p(e.controls,"playState"),e.controls.playState!==l.j.PLAY_REQUESTED&&(n.playState=e.controls.playState),n.isPosterShown=!1,Object.assign({},e,{controls:n,hasPlaybackStarted:!0,isPlaying:!0});case l.v:return n=p(e.controls,"playState"),e.controls.playState!==l.j.PAUSE_REQUESTED&&(n.playState=e.controls.playState),Object.assign({},e,{controls:n,isPlaying:!1});case l.m:return Object.assign({},e,{controls:Object.assign({},e.controls,{muteState:l.i.MUTE_REQUESTED})});case l.r:return n=Object.assign({},e.controls,{muteState:l.i.UNMUTE_REQUESTED}),0!==e.volume||e.controls.volume>0||(n.volume=1),Object.assign({},e,{controls:n});case l.s:return n=Object.assign({},e.controls,{volume:t.volume}),0!==t.volume||e.isMuted?t.volume>0&&e.isMuted&&(n.muteState=l.i.UNMUTE_REQUESTED):n.muteState=l.i.MUTE_REQUESTED,Object.assign({},e,{controls:n});case l.z:return n=p(p(e.controls,"muteState"),"volume"),e.controls.muteState!==l.i.MUTE_REQUESTED||t.isMuted?e.controls.muteState===l.i.UNMUTE_REQUESTED&&t.isMuted&&(n.muteState=l.i.UNMUTE_REQUESTED):n.muteState=l.i.MUTE_REQUESTED,t.volume!==e.controls.volume&&(n.volume=e.controls.volume),Object.assign({},e,{controls:n,volume:t.volume,isMuted:t.isMuted});case l.q:return Object.assign({},e,{isScrubbing:!0,controls:Object.assign({},e.controls,{scrubToFraction:t.fraction})});case l.x:return n=p(e.controls,"scrubToFraction"),Object.assign({},e,{isScrubbing:!1,controls:n});case l.y:return Object.assign({},e,{isScrubbing:!0});case l.g:return Object.assign({},e,{controls:Object.assign({},e.controls,{isHidden:!0})});case l.t:return Object.assign({},e,{controls:Object.assign({},e.controls,{isHidden:!1})});case l.l:return Object.assign({},e,{userSpecifiedCaptions:t.isUserSet,controls:Object.assign({},e.controls,{captionsState:l.e.CAPTIONS_ON_REQUESTED})});case l.k:return Object.assign({},e,{userSpecifiedCaptions:t.isUserSet,controls:Object.assign({},e.controls,{captionsState:l.e.CAPTIONS_OFF_REQUESTED})});case l.d:return n=p(e.controls,"captionsState"),Object.assign({},e,{areCaptionsShown:t.areCaptionsShown,controls:n});case d.e:var o=Object.assign({},e),c=Object(h.b)(e),f=Object(h.c)(e);c&&"maxLoopCount"in c&&(c.loopCounter>=c.maxLoopCount-1?c.shouldLoop=!1:c.loopCounter++,o.tracks=[].concat(s()(f),[Object.assign({},c)]));var E=(c||{}).shouldLoop;return 0===e.nextTrackIds.length&&(e.isPreview?o.controls=Object.assign({},e.controls,{isPosterShown:!E}):o.controls=Object.assign({},e.controls,{isHidden:E,isReplayButtonShown:!E,playState:E?void 0:l.j.PAUSE_REQUESTED})),o;case l.u:return Object.assign({},e,{percentVisible:t.percentVisible,percentOfViewportOccupied:t.percentOfViewportOccupied,sizesInfo:t.sizesInfo||{}});case l.a:n=p(e.controls,"playState"),e.controls.playState!==l.j.PLAY_REQUESTED&&(n.playState=e.controls.playState);var g=Object(h.b)(e),T=Object(h.c)(e);return Object.assign({},e,{controls:Object.assign({},n,{isPosterShown:!0}),tracks:[].concat(s()(T),[Object.assign({},g,{isBuffering:!1})])});case l.f:var y=void 0===e.dataUsageBytes?t.bytes:e.dataUsageBytes+t.bytes;return Object.assign({},e,{dataUsageBytes:y});case l.h:var m=e.liveClickthroughClicked||0;return Object.assign({},e,{liveClickthroughClicked:1+m});default:return e}},d.i,i.d,g.e,T.e],b="TEARDOWN_PLAYER",O=function(e){return{type:b,playerId:e}};t.b=function(e,t,n){if(void 0===e&&(e={}),void 0===n&&(n=m),void 0!==t.playerId){if(t.type===b){var r=Object.assign({},e);return delete r[t.playerId],r}var i=e[t.playerId];if(t.type===u.e){if(!i)return e;i=Object.assign({},y,{errorInfo:i.errorInfo})}var a,s=function(e,t,n){return void 0===e&&(e=y),n.reduce(function(e,n){return n(e,t)},e)}(i,t,n);if(void 0!==s)return Object.assign({},e,((a={})[t.playerId]=s,a))}return e}},"f+ng":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"g",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"h",function(){return d}),n.d(t,"a",function(){return l});var r=n("n12u"),i=(n.n(r),n("sQlR")),a="REQUEST_FULLSCREEN",s=function(e,t,n){return{type:a,playerId:e,containerEl:t,videoEl:n}},o="REQUEST_SHRINK",c=function(e,t){return{playerId:e,type:o,element:t}},u="SET_FULLSCREEN_STATE",d=function(e,t){return{type:u,playerId:e,isFullscreen:t}};t.e=function(e,t){switch(t.type){case i.c:return Object.assign({},e,{fullscreen:Object.assign({},e.fullscreen,{enableNative:t.enableNativeFullscreen})});case u:return Object.assign({},e,{fullscreen:Object.assign({},e.fullscreen,{isFullscreen:t.isFullscreen})});default:return e}};var l={fullscreen:{isFullscreen:!1,enableNative:!1}}},gf1G:function(e,t,n){var r=n("M9Zj"),i=n("G6ov");e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var o=0;o<16;++o)t[a+o]=s[o];return t||i(s)}},gqLP:function(e,t,n){"use strict";var r=n("6gFT"),i={},a=function(){function e(e){this.httpClient=e}return e.prototype.dispatch=function(e){if("get"===e.method.toLowerCase()){var t=e.params?Object(r.b)(e.params):"",n=t?"?"+t:"",a=""+e.host+e.path+n;return i[a]||(i[a]=this.httpClient.dispatch(e).then(function(e){return delete i[a],e}).catch(function(e){throw delete i[a],e})),i[a]}return this.httpClient.dispatch(e)},e}();t.a=a},hBV6:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.InitialState=t.updateAudioLevels=t.UPDATE_AUDIO_LEVELS=void 0,n("n12u");t.UPDATE_AUDIO_LEVELS="UPDATE_AUDIO_LEVELS";t.updateAudioLevels=function(e,t){return{type:"UPDATE_AUDIO_LEVELS",audioLevels:t,experienceId:e}};var r={guests:{},host:0};t.InitialState=r;t.default=function(e,t){switch(void 0===e&&(e=r),t.type){case"UPDATE_AUDIO_LEVELS":for(var n=t.audioLevels,i=n[0],a=n.slice(1),s={},o=0;o<a.length;o++)s[o]=a[o];return Object.assign({},e,{guests:s,host:i});default:return e}}},jlGQ:function(e,t,n){"use strict";var r=n("y9m4"),i=(n.n(r),n("gYYG")),a=(n.n(i),function(){function e(e){this.httpClient=e}var t=e.prototype;return t.dispatch=function(e){var t=this;return new Promise(function(n,r){t._dispatchOnce(0,n,r,e)})},t._dispatchOnce=function(e,t,n,r){var i=this;this.httpClient.dispatch(r).then(function(a){i._handleResponse(e+1,t,n,r,a)}).catch(function(a){i._handleReject(e+1,t,n,r,a)})},t._handleResponse=function(e,t,n,r,i){var a=this;i.status>=200&&i.status<300||e>3?t(i):setTimeout(function(){a._dispatchOnce(e,t,n,r)},200*e)},t._handleReject=function(e,t,n,r,i){var a=this;e>3?n(i):setTimeout(function(){a._dispatchOnce(e,t,n,r)},200*e)},e}());t.a=a},kfzj:function(e,t,n){"use strict";n.d(t,"c",function(){return E}),n.d(t,"a",function(){return g}),n.d(t,"b",function(){return T});var r=n("n12u"),i=(n.n(r),n("Z8+c")),a=n.n(i),s=n("y9m4"),o=(n.n(s),n("gYYG")),c=(n.n(o),n("sQlR")),u=n("lmuO"),d=n("ZQ6P"),l=n("bLx6"),h=n("RaJe"),f=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=!0),{ids:e.join(","),include_events:t}},p=function(e,t,n){try{return e.dispatch({method:"GET",host:"https://api.twitter.com",path:"/1.1/broadcasts/show.json",params:f([t],n),withCredentials:!0}).then(function(e){if(200!==e.status)return Promise.reject(d.a.BROADCAST_REQUEST_ERROR+":"+e.status);var n=JSON.parse(e.body),r=n.broadcasts,i=n.events;if(!r||!r[t]||!r[t].broadcast_id)return Promise.reject(d.a.BROADCAST_NOT_FOUND);if("RUNNING"!==r[t].state&&!r[t].available_for_replay)return Promise.reject(d.a.BROADCAST_ENDED_NO_REPLAY);var a={broadcast:r[t]};return i&&i[t]&&i[t].length&&(a.associatedEvent=i[t][0]),a},function(e){return Promise.reject(d.a.BROADCAST_REQUEST_ERROR)})}catch(r){return Promise.reject(r)}},v=function(e){var t=e.broadcast,n=e.associatedEvent,r=void 0===n?{}:n,i=t.state,a=t.total_watched,s=t.total_watching,o=t.image_url,c=t.start_ms,d=t.ping_ms,l=t.timedout_ms,h=t.end_ms,f=r.description,p=r.title,v=r.url,E=r.id,g="RUNNING"===i,T=o,y=parseInt(s,10)||0,m=parseInt(a,10)||0,b={isLive:g,viewerCount:g?y:m,posterImage:T,eventDescription:f,eventTitle:p,eventUrl:v,eventId:E};if(p&&v&&(b.cta={label:p,type:u.b.EVENT,url:v}),!g){var O=(h||l||d||c)-c;b.durationMs=O}return b},E=function(e){return e.source&&e.source.type===h.a.BROADCAST},g=function(){function e(e,t,n,r,i){this.dispatch=e,this.httpClient=t,this.playerId=n,this.broadcastId=r,this.includeBroadcastEventAssociation=i,this.updaterTimeout=null}var t=e.prototype;return t.queueUpdate=function(e){var t,n,r=this,i=e?15:30,a=new Promise(function(e,r){t=e,n=r});return this.updaterTimeout=setTimeout(function(){var e,i,a;(e=r.httpClient,i=r.broadcastId,a=r.includeBroadcastEventAssociation,p(e,i,a).then(function(e){return v(e)},function(e){throw new Error(e)})).then(function(e){null!=r.updaterTimeout&&(r.queueUpdate(e.isLive),r.dispatch(Object(c.f)(r.playerId,e))),t()},function(e){n(e)})},1e3*i),a},t.cancelUpdate=function(){clearTimeout(this.updaterTimeout),this.updaterTimeout=null},e}(),T=function(){function e(e,t){this.httpClient=e,this.includeBroadcastEventAssociation=t}return e.prototype.load=function(e){return function(e,t,n){if(!E(t))return Promise.resolve(t);var r=t.source.id;return p(e,r,n).then(function(e){var n,r,i,s,o,c,u,d,h,f,p=Object(l.d)(t,0),E=(n=e.broadcast,r=n.broadcast_id,i=n.is_360,s=n.media_key,o=n.profile_image_url,c=n.replay_edited_start_time,u=n.requires_fine_grain_geoblocking,d=n.twitter_user_id,h=n.user_id,f=n.unavailable_in_periscope,{broadcastId:r,contentId:s,contentType:"broadcast",displayType:"content",expandedUrl:"https://www.pscp.tv/w/"+r,is360:i,isEventGeoblocked:u,playbackType:"application/x-mpegURL",publisherDisplayName:n.user_display_name,publisherId:d,periscopePublisherId:h,publisherProfileImageUrl:o,replayEditedStartTime:c,shouldLoop:!1,unavailableInPeriscope:f}),g=v(e),T=g.cta,y=g.durationMs,m=g.isLive,b=g.viewerCount,O=g.viewCount,I=a()(g,["cta","durationMs","isLive","viewerCount","viewCount"]);return t.posterImage&&delete I.posterImage,Object.assign({},t,I,{client:"web",tracks:[Object.assign({},p,E,{cta:T,durationMs:y,id:0,isLive:m,viewerCount:b,viewCount:O})],currentTrackId:0,source:Object.assign({},t.source,{trackId:0})})},function(e){throw new Error(e)})}(this.httpClient,e,this.includeBroadcastEventAssociation)},e}()},nSxQ:function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n("DuR2"))},nU19:function(e,t,n){"use strict";t.__esModule=!0,t.combineReducers=void 0,n("fx22"),n("WgSQ"),n("tJwI"),n("wnRD");t.combineReducers=function(e){return function(t,n){return Object.keys(e).reduce(function(r,i){return r[i]=e[i](t[i],n),r},{})}}},qEAf:function(e,t,n){"use strict";t.a=function(e){var t=e%60,n=t<10?"0"+t:t,r=(e-t)/60%60,i=Math.floor(e/3600),a=r<10&&i?"0"+r:r;return i?i+":"+a+":"+n:a+":"+n},n.d(t,"b",function(){return a});var r=/^[0-9]{1,6}$/,i=/^([0-9]{0,3}[hH])?([0-9]{0,2}[mM])?([0-9]{0,6}[sS])?$/,a=function(e){if(r.test(e))return+e;var t=i.exec(e);if(t&&t[0]){var n=t[1],a=t[2],s=t[3],o=0;return n&&(o+=3600*+n.slice(0,-1)),a&&(o+=60*+a.slice(0,-1)),s&&(o+=+s.slice(0,-1)),o}}},ro3u:function(e,t,n){"use strict";n.d(t,"j",function(){return r}),n.d(t,"i",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"o",function(){return s}),n.d(t,"L",function(){return o}),n.d(t,"n",function(){return c}),n.d(t,"K",function(){return u}),n.d(t,"p",function(){return d}),n.d(t,"M",function(){return l}),n.d(t,"w",function(){return h}),n.d(t,"T",function(){return f}),n.d(t,"v",function(){return p}),n.d(t,"S",function(){return v}),n.d(t,"m",function(){return E}),n.d(t,"J",function(){return g}),n.d(t,"r",function(){return T}),n.d(t,"O",function(){return y}),n.d(t,"s",function(){return m}),n.d(t,"P",function(){return b}),n.d(t,"z",function(){return O}),n.d(t,"W",function(){return I}),n.d(t,"q",function(){return R}),n.d(t,"N",function(){return _}),n.d(t,"x",function(){return S}),n.d(t,"U",function(){return P}),n.d(t,"y",function(){return w}),n.d(t,"V",function(){return C}),n.d(t,"g",function(){return A}),n.d(t,"F",function(){return L}),n.d(t,"t",function(){return D}),n.d(t,"Q",function(){return k}),n.d(t,"l",function(){return U}),n.d(t,"I",function(){return j}),n.d(t,"k",function(){return N}),n.d(t,"H",function(){return M}),n.d(t,"d",function(){return x}),n.d(t,"D",function(){return F}),n.d(t,"u",function(){return V}),n.d(t,"R",function(){return G}),n.d(t,"b",function(){return B}),n.d(t,"B",function(){return Q}),n.d(t,"c",function(){return H}),n.d(t,"C",function(){return K}),n.d(t,"h",function(){return W}),n.d(t,"G",function(){return Y}),n.d(t,"a",function(){return J}),n.d(t,"A",function(){return X}),n.d(t,"f",function(){return z}),n.d(t,"E",function(){return q});var r={PAUSE_REQUESTED:"PAUSE_REQUESTED",PLAY_REQUESTED:"PLAY_REQUESTED"},i={MUTE_REQUESTED:"MUTE_REQUESTED",UNMUTE_REQUESTED:"UNMUTE_REQUESTED"},a={CAPTIONS_ON_REQUESTED:"CAPTIONS_ON_REQUESTED",CAPTIONS_OFF_REQUESTED:"CAPTIONS_OFF_REQUESTED",CAPTIONS_RESET_REQUESTED:"CAPTIONS_RESET_REQUESTED"},s="REQUEST_PLAY",o=function(e){return{type:s,playerId:e}},c="REQUEST_PAUSE",u=function(e){return{type:c,playerId:e}},d="REQUEST_REPLAY",l=function(e){return{type:d,playerId:e}},h="VIDEO_PLAYED",f=function(e){return{type:h,playerId:e}},p="VIDEO_PAUSED",v=function(e){return{type:p,playerId:e}},E="REQUEST_MUTE",g=function(e){return{type:E,playerId:e}},T="REQUEST_UNMUTE",y=function(e){return{type:T,playerId:e}},m="REQUEST_VOLUME_CHANGE",b=function(e,t){return{type:m,volume:t,playerId:e}},O="VIDEO_VOLUME_CHANGED",I=function(e,t,n){return{type:O,isMuted:t,volume:n,playerId:e}},R="REQUEST_SCRUB_TO_FRACTION",_=function(e,t){return{type:R,fraction:t,playerId:e}},S="VIDEO_SEEKED",P=function(e){return{type:S,playerId:e}},w="VIDEO_SEEKING",C=function(e){return{type:w,playerId:e}},A="HIDE_CONTROLS",L=function(e){return{type:A,playerId:e}},D="SHOW_CONTROLS",k=function(e){return{type:D,playerId:e}},U="REQUEST_CAPTIONS_ON",j=function(e,t){return void 0===t&&(t=!0),{type:U,isUserSet:t,playerId:e}},N="REQUEST_CAPTIONS_OFF",M=function(e,t){return void 0===t&&(t=!0),{type:N,isUserSet:t,playerId:e}},x="CAPTIONS_TOGGLED",F=function(e,t){return{type:x,areCaptionsShown:t,playerId:e}},V="UPDATE_VISIBILITY",G=function(e,t,n,r){return{type:V,playerId:e,percentVisible:t,percentOfViewportOccupied:n,sizesInfo:r}},B="CALL_TO_ACTION_CLICKED",Q=function(e){return{type:B,playerId:e}},H="CALL_TO_ACTION_IMPRESSION",K=function(e){return{type:H,playerId:e}},W="LIVE_CLICKTHROUGH_CLICKED",Y=function(e){return{type:W,playerId:e}},J="AUTOPLAY_DISABLED",X=function(e){return{type:J,playerId:e}},z="DATA_USAGE_COLLECTED",q=function(e,t){return{type:z,playerId:e,bytes:t}}},"sDn+":function(e,t,n){"use strict";var r=n("sQlR"),i=n("aYTN"),a=n("ro3u"),s=n("dcfe"),o=n("eNdu"),c={},u=(n("WpTh"),n("/Uk5")),d=n("bb2B"),l=n("1wiv"),h={},f=n("QTvf"),p=n("f+ng"),v=n("J1g3"),E=n("1z7j"),g=(n("n12u"),n("fKPv")),T=n.n(g),y=n("c8i7"),m=1e3,b=function(){function e(e){var t=this;T()(this,"onNativeFullscreenBegin",function(){t.setFullscreen(!0)}),T()(this,"onNativeFullscreenEnd",function(){t.setFullscreen(!1)}),T()(this,"onFullscreenChanged",function(){var e=(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)===t.fullscreenTarget;e||(t.fullscreenTarget=void 0,t.removeDocumentListeners()),t.setFullscreen(e)}),T()(this,"expand",function(e,n){n&&(t.expandTimeout=setTimeout(function(){t.setFullscreen(!1)},m),t.fullscreenTarget&&(t.fullscreenTarget.removeEventListener("touchstart",t._swipeStart),t.fullscreenTarget.removeEventListener("transitionend",t._fullscreenTransitionEnd),t.setFullscreen(!1)),t.fullscreenTarget=n,t.playerId=e,t.addDocumentListeners(),t.fullscreenTarget.requestFullscreen?t.fullscreenTarget.requestFullscreen():t.fullscreenTarget.mozRequestFullScreen?t.fullscreenTarget.mozRequestFullScreen():t.fullscreenTarget.webkitRequestFullscreen?t.fullscreenTarget.webkitRequestFullscreen():t.fullscreenTarget.msRequestFullscreen?t.fullscreenTarget.msRequestFullscreen():t.fullscreenTarget.webkitEnterFullscreen?(t.addElementListeners(n),t.fullscreenTarget.webkitEnterFullscreen()):(t.removeDocumentListeners(),t.removeElementListeners(),t.nonFullscreenStyle=Object.assign({},t.fullscreenTarget.style),t.nonFullscreenPosition=t.fullscreenTarget.getBoundingClientRect(),t.fullscreenTarget.style.position="fixed",t.fullscreenTarget.style.width=t.nonFullscreenPosition.right-t.nonFullscreenPosition.left+"px",t.fullscreenTarget.style.height=t.nonFullscreenPosition.bottom-t.nonFullscreenPosition.top+"px",t.fullscreenTarget.style.top=t.nonFullscreenPosition.top+"px",t.fullscreenTarget.style.left=t.nonFullscreenPosition.left+"px",t.fullscreenTarget.style.zIndex="100",window.requestAnimationFrame(function(){t.fullscreenTarget.style.transition="width 0.25s, height 0.25s, top 0.25s, left 0.25s",t.fullscreenTarget.style.width="100%",t.fullscreenTarget.style.height="100%",t.fullscreenTarget.style.top="0",t.fullscreenTarget.style.left="0",t.fullscreenTarget.addEventListener("transitionend",t._fullscreenTransitionEnd)})))}),T()(this,"shrink",function(e){e===t.playerId&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen?document.msExitFullscreen():t.fullscreenTarget.webkitExitFullscreen?t.fullscreenTarget.webkitExitFullscreen():(t.fullscreenTarget.style.width=t.nonFullscreenPosition.right-t.nonFullscreenPosition.left+"px",t.fullscreenTarget.style.height=t.nonFullscreenPosition.bottom-t.nonFullscreenPosition.top+"px",t.fullscreenTarget.style.top=t.nonFullscreenPosition.top+"px",t.fullscreenTarget.style.left=t.nonFullscreenPosition.left+"px",t.fullscreenTarget.style.transition="width 0.25s, height 0.25s, top 0.25s, left 0.25s",t.fullscreenTarget.addEventListener("transitionend",t._shrinkTransitionEnd),t.fullscreenTarget.removeEventListener("touchstart",t._swipeStart)))}),T()(this,"_swipeStart",function(e){t.addSwipeListeners(),t.touchStart=e.touches[0]}),T()(this,"_swipeMove",function(e){e.preventDefault();var n=e.touches[0].pageY-t.touchStart.pageY;t.swipeVector=Math.abs(n);var r=n/t.swipeVector*Math.min(t.swipeVector,t.swipeVector/(t.swipeVector+3*t.fullscreenTarget.clientHeight/4)*t.fullscreenTarget.clientHeight*1/2);t.fullscreenTarget.style.top=r+"px"}),T()(this,"_swipeEnd",function(){t.removeSwipeListeners(),t.swipeVector>t.fullscreenTarget.clientHeight/4?t.shrink(t.playerId):t.fullscreenTarget.style.top="0"}),T()(this,"_fullscreenTransitionEnd",function(){t.fullscreenTarget.style.transition="",t.fullscreenTarget.removeEventListener("transitionend",t._fullscreenTransitionEnd),t.fullscreenTarget.addEventListener("touchstart",t._swipeStart),t.setFullscreen(!0)}),T()(this,"_shrinkTransitionEnd",function(){t.fullscreenTarget.removeEventListener("transitionend",t._shrinkTransitionEnd),t.fullscreenTarget.style.transition="",t.fullscreenTarget.style.position=t.nonFullscreenStyle.position,t.fullscreenTarget.style.width=t.nonFullscreenStyle.width,t.fullscreenTarget.style.height=t.nonFullscreenStyle.height,t.fullscreenTarget.style.top=t.nonFullscreenStyle.top,t.fullscreenTarget.style.left=t.nonFullscreenStyle.left,t.fullscreenTarget.style.zIndex=t.nonFullscreenStyle.zIndex,t.setFullscreen(!1),t.fullscreenTarget=void 0}),this.fullscreenTarget=void 0,this.playerId=void 0,this.onChange=e,this.isFullscreen=!1}var t=e.prototype;return t.addDocumentListeners=function(){document.addEventListener("webkitfullscreenchange",this.onFullscreenChanged),document.addEventListener("mozfullscreenchange",this.onFullscreenChanged),document.addEventListener("MSFullscreenChange",this.onFullscreenChanged),document.addEventListener("fullscreenchange",this.onFullscreenChanged)},t.removeDocumentListeners=function(){document.removeEventListener("webkitfullscreenchange",this.onFullscreenChanged),document.removeEventListener("mozfullscreenchange",this.onFullscreenChanged),document.removeEventListener("MSFullscreenChange",this.onFullscreenChanged),document.removeEventListener("fullscreenchange",this.onFullscreenChanged)},t.addSwipeListeners=function(){document.addEventListener("touchend",this._swipeEnd),document.addEventListener("touchmove",this._swipeMove)},t.addElementListeners=function(e){e.addEventListener("webkitbeginfullscreen",this.onNativeFullscreenBegin),e.addEventListener("webkitendfullscreen",this.onNativeFullscreenEnd)},t.removeElementListeners=function(){var e=this.fullscreenTarget;e&&(e.removeEventListener("webkitbeginfullscreen",this.onNativeFullscreenBegin),e.removeEventListener("webkitendfullscreen",this.onNativeFullscreenEnd),e.removeEventListener("transitionend",this._fullscreenTransitionEnd),e.removeEventListener("transitionend",this._shrinkTransitionEnd))},t.removeSwipeListeners=function(){document.removeEventListener("touchend",this._swipeEnd),document.removeEventListener("touchmove",this._swipeMove)},t.setFullscreen=function(e){clearTimeout(this.expandTimeout),this.onChange(this.playerId,e),e||(this.cleanup(),this.fullscreenTarget=void 0,this.playerId=void 0)},t.cleanup=function(){clearTimeout(this.expandTimeout),this.removeDocumentListeners(),this.removeElementListeners(),this.removeSwipeListeners()},e}(),O=n("tYh2"),I="volume",R="captions",_="ENABLED",S="DISABLED";function P(){var e,t=Object(O.a)(R);if((e=t)===_||e===S)return t}function w(e){Object(O.b)(R,e)}var C=n("4ufr"),A=n.n(C),L=n("nSxQ"),D="object"==typeof self&&self&&self.Object===Object&&self,k=(L.a||D||Function("return this")()).Symbol,U=Object.prototype,j=U.hasOwnProperty,N=U.toString,M=k?k.toStringTag:void 0;var x=function(e){var t=j.call(e,M),n=e[M];try{e[M]=void 0;var r=!0}catch(a){}var i=N.call(e);return r&&(t?e[M]=n:delete e[M]),i},F=Object.prototype.toString;var V=function(e){return F.call(e)},G="[object Null]",B="[object Undefined]",Q=k?k.toStringTag:void 0;var H=function(e){return null==e?void 0===e?B:G:(e=Object(e),Q&&Q in e?x(e):V(e))};var K=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var W=function(e){return null!=e&&"object"==typeof e},Y="[object Object]",J=Function.prototype,X=Object.prototype,z=J.toString,q=X.hasOwnProperty,Z=z.call(Object);var $=function(e){if(!W(e)||H(e)!=Y)return!1;var t=K(e);if(null===t)return!0;var n=q.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&z.call(n)==Z},ee=n("M/Jh"),te=n.n(ee),ne={INIT:"@@redux/INIT"};function re(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}var ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var ae=n("5F3G"),se=n.n(ae),oe=[function(e){return function(t){return function(n){switch(n.type){case r.c:c[n.playerId]=function(){return"function"==typeof n.adProvider?n.adProvider():{}};break;case o.a:delete c[n.playerId];break;case a.o:case i.c:var u=e.getState().players[n.playerId];if(u&&!u.adLoaded&&c[n.playerId])return t(Object(s.c)(n.playerId,c[n.playerId],n.type===i.c))}return t(n)}}},function(e){return function(t){return function(n){switch(n.type){case i.c:var r=Object(f.b)(e,n.playerId),s=r.initiallyMutedCaptions,o=r.userSpecifiedCaptions;s&&!o&&e.dispatch(Object(a.I)(n.playerId,!1));break;case a.o:case a.p:case a.r:case a.s:case a.q:case p.b:var c=Object(f.b)(e,n.playerId),u=c.isPreview,d=c.userSpecifiedCaptions;u&&!d&&e.dispatch(Object(a.H)(n.playerId,!1))}return t(n)}}},E.a,function(e){var t=new b(function(t,n){e.dispatch(Object(p.h)(t,n))});return function(n){return function(r){var i=e.getState().players[r.playerId],a=r.type;if(!i||a!==p.b&&a!==p.c)return n(r);var s=i.fullscreen.enableNative&&Object(y.b)()&&r.videoEl?r.videoEl:r.containerEl;return a===p.b?(e.dispatch(Object(p.h)(r.playerId,!0)),t.expand(r.playerId,s)):t.shrink(r.playerId),n(r)}}},function(e){return function(t){return function(n){switch(n.type){case r.c:switch(e.dispatch(Object(a.P)(n.playerId,(s=parseFloat(Object(O.a)(I)),isNaN(s)?1:s))),P()){case _:e.dispatch(Object(a.I)(n.playerId,!0));break;case S:e.dispatch(Object(a.H)(n.playerId,!0))}break;case a.z:(i=n.volume)>=0&&null!==i&&Object(O.b)(I,i);break;case a.l:n.isUserSet&&w(_);break;case a.k:n.isUserSet&&w(S)}var i,s;return t(n)}}},function(e){return function(t){return function(n){if(void 0!==n.playerId&&Object(u.d)(n.playerId,function(e){e.log("redux",n.type)}),n.type===r.c)return h[n.playerId]=n.analytics,t(n);var s=e.getState().players[n.playerId];if(!s)return t(n);var c=t(n),f=e.getState().players[n.playerId],p=h[n.playerId];if(void 0!==p){switch(n.type){case l.d:p.onTickEvent(f);break;case l.e:p.onTrackFinished(s),f.currentTrackId!==s.currentTrackId&&p.onIntendToPlay(f);break;case l.b:"ad"===s.tracks.find(function(e){return e.id===s.currentTrackId}).displayType&&p.onAdSkip(s),f.currentTrackId!==s.currentTrackId&&p.onIntendToPlay(f);break;case a.o:case i.c:p.onIntendToPlay(f);break;case a.p:p.onReplay(f);break;case a.z:s.isMuted&&!f.isMuted?p.onUnmute(s):!s.isMuted&&f.isMuted&&p.onMute(s);break;case a.b:p.onCtaClick(s);break;case a.c:p.onCtaImpression(s);break;case o.a:p.onTeardown(s),delete h[n.playerId];break;case r.b:p.onConfigLoaded(f);break;case d.a:case d.c:var v,E=f.errorInfo,g=E.autoRetry?E.count:void 0;v=n.type===d.a||n.type===d.c?n.thrownError.message:n.error,p.onError(s,{error_code:n.type,error_message:v,media_details:{media_error:{category:n.type,is_fatal:n.isFatal,message:v,retry_count:g}}})}f&&f.isPlaying!==s.isPlaying&&(f.isPlaying?p.onPlay(f):p.onPause(f))}return c}}},v.b,ae.hydraMiddleware,A.a];t.a=function e(t,n,r){var i;if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var a=t,s=n,o=[],c=o,u=!1;function d(){c===o&&(c=o.slice())}function l(){return s}function h(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return d(),c.push(e),function(){if(t){t=!1,d();var n=c.indexOf(e);c.splice(n,1)}}}function f(e){if(!$(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,s=a(s,e)}finally{u=!1}for(var t=o=c,n=0;n<t.length;n++)t[n]();return e}return f({type:ne.INIT}),(i={dispatch:f,subscribe:h,getState:l,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");a=e,f({type:ne.INIT})}})[te.a]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[te.a]=function(){return this},e},i}(function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:ne.INIT}))throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+ne.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}(n)}catch(o){a=o}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(a)throw a;for(var r=!1,i={},o=0;o<s.length;o++){var c=s[o],u=n[c],d=e[c],l=u(d,t);if(void 0===l){var h=re(c,t);throw new Error(h)}i[c]=l,r=r||l!==d}return r?i:e}}({players:o.b,hydraExperiences:se.a}),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var a,s=e(n,r,i),o=s.dispatch,c={getState:s.getState,dispatch:function(e){return o(e)}};return a=t.map(function(e){return e(c)}),o=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1],i=t.slice(0,-1);return function(){return i.reduceRight(function(e,t){return t(e)},r.apply(void 0,arguments))}}.apply(void 0,a)(s.dispatch),ie({},s,{dispatch:o})}}}.apply(void 0,oe))},sQlR:function(e,t,n){"use strict";var r=n("rzQm"),i=n.n(r),a=n("Z8+c"),s=n.n(a),o=(n("n12u"),n("fOdq"),n("WpTh"),n("bb2B")),c=n("vAVP"),u=n("kfzj"),d=(n("wnRD"),n("y9m4"),n("gYYG"),n("QTvf")),l=n("bLx6"),h=n("ZQ6P"),f=n("qEAf"),p=n("c8i7"),v=n("91Pj"),E=n("RaJe"),g=function(){function e(e){this.httpClient=e}var t=e.prototype;return t.load=function(e,t){var n=this,r=e.videoConfig,i=s()(e,["videoConfig"]);return(r&&(r.vmapUrl||e.videoConfig.variants&&e.videoConfig.variants.length>0)?this.loadStaticConfigState(r):this.loadDynamicConfigState(e.source,r,t)).then(function(e){return n.convertConfigStateToPlayerState(e,i,t)})},t.loadStaticConfigState=function(e){var t=function(){try{return JSON.parse(window.sessionStorage.getItem("TwitterVideoPlayerUserConfig"))}catch(e){}}(),n={eventId:e.eventId,posterImage:e.poster,track:{contentId:e.contentId,contentType:e.contentType,cta:e.cta,durationMs:e.durationMs,expandedUrl:e.expandedUrl,mediaAvailability:e.mediaAvailability,publisherId:e.publisherId,shouldLoop:e.loop,variants:e.variants,viewCount:e.viewCount,vmapUrl:e.vmapUrl}},r=this.httpClient.dispatch({method:"GET",path:"/1.1/videos/static/config.json",host:"https://api.twitter.com"}).then(function(e){if(200!==e.status)throw new Error(h.a.CONFIG_USER_DATA_NETWORK_ERROR+":"+e.status);var t=JSON.parse(e.body);return function(e){try{window.sessionStorage.setItem("TwitterVideoPlayerUserConfig",JSON.stringify(e))}catch(t){}}(t),t},function(){throw new Error(h.a.CONFIG_USER_DATA_NETWORK_ERROR)});return(t?Promise.resolve(t):r).then(function(e){var t=e.features,r=e.translations;return Object.assign({},n,{features:t,translations:r})})},t.loadDynamicConfigState=function(e,t,n){try{return this.httpClient.dispatch({method:"GET",path:this.getApiEndpointForPlayerSource(e),host:"https://api.twitter.com",params:{bitrate_cap:n.bitrateCap}}).then(function(e){if(200!==e.status)throw new Error(h.a.CONFIG_NETWORK_ERROR+":"+e.status);var n=JSON.parse(e.body);return t&&t.poster&&(n.posterImage=t.poster),n},function(){throw new Error(h.a.CONFIG_NETWORK_ERROR)})}catch(r){return Promise.reject(r)}},t.convertConfigStateToPlayerState=function(e,t,n){var r,i,a=e.track,o=e.translations,c=s()(e,["track","translations"]),u=n.reloadTimecode,E=Object(f.b)(n.requestedTimecode),g=E>0||0===E?E:-1;Object(v.e)(o),a&&(i=a.mediaAvailability,n.maxLoopCount&&(a.maxLoopCount=n.maxLoopCount,a.loopCounter=0),a.variants&&a.variants.length>0?r=a.variants:a.playbackUrl&&a.playbackType&&(r=[{src:a.playbackUrl,type:a.playbackType}])),Object(p.a)()&&(r=Object(l.a)(r));var T=Object(d.a)(i);if(T)switch(T){case h.a.ORIGINAL_CONTEXT_DELETED:case h.a.DMCA_TAKEDOWN_ERROR:throw new Error(T)}return Object.assign({},t,c,{tracks:[Object.assign({},a,{id:0,displayType:"content",requestedTimecode:g,reloadTimecode:u,rotation:0,variants:r,currentVariantIndex:0})],currentTrackId:0,source:Object.assign({},t.source,{trackId:0}),mediaAvailability:i})},t.getApiEndpointForPlayerSource=function(e){switch(e.type){case E.a.TWEET:var t=e.index>0?"/"+e.index:"";return"/1.1/videos/tweet/config/"+e.id+t+".json";case E.a.LIVE_EVENT:return"/1.1/videos/live_video/config/"+e.id+".json";case E.a.BROADCAST:return"/1.1/videos/broadcast/config/"+e.id+".json";case E.a.DM:return"/1.1/videos/dm/config/"+e.id+".json";default:throw new Error(h.a.UNSUPPORTED_TYPE+":"+e.type)}},e}(),T=(n("3QrE"),n("6gFT")),y="error",m="playback",b=function(){function e(e,t,n,r,i){this.dispatch=e,this.httpClient=t,this.twitterAuthedHttpClient=n,this.playerId=r,this.showGeolocationPrompt=i}var t=e.prototype;return t.load=function(e){var t=e.tracks[0];return"live"!==t.contentType&&"broadcast"!==t.contentType?Promise.resolve(e):t.contentId?this.getUserPermission(t).then(this.getUserGeolocation.bind(this)).then(this.parseGeolocationData.bind(this)).then(this.acquireLiveStream.bind(this,e)).then(this.parseStreamAcquisitionResponse.bind(this)).then(this.setCookies.bind(this)).then(this.checkCookies.bind(this)).catch(this.handleRejectedPromises.bind(this)).then(function(n){var r=n.isLiveTimecode,i=n.playbackUrl,a=n.lifecycleToken,s=n.chatToken,o=n.broadcastShareUrl,c=n.restrictions;if(void 0!==c){if(void 0!==c.find(function(e){return"geoblocked"===e.restriction}))throw new Error(h.a.LIVE_VIDEO_GEOBLOCK_ERROR);var u=c.find(function(e){return"copyright-violation"===e.restriction});if(void 0!==u){var d=new Error(h.a.LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR);throw d.restriction=u,d}}return Object.assign({},e,{tracks:[Object.assign({},t,{isLive:"live"===t.contentType||t.isLive,isLiveTimecode:r,variants:[{src:i,type:"application/x-mpegURL"}],lifecycleToken:a,chatToken:s,broadcastShareUrl:o})]})}):Promise.reject(Error(h.a.LIVE_STREAM_ACQUISITION_MISSING_CONTENT_ID))},t.getUserPermission=function(e){return e.isEventGeoblocked?this.showGeolocationPrompt?Promise.resolve({shouldGetGeolocation:!0}):"permissions"in navigator?navigator.permissions.query({name:"geolocation"}).then(function(e){var t="granted"===e.state;return Promise.resolve({shouldGetGeolocation:t})}):Promise.resolve({shouldGetGeolocation:!1}):Promise.resolve({shouldGetGeolocation:!1})},t.getUserGeolocation=function(e){return e.shouldGetGeolocation&&"geolocation"in navigator?(this.dispatch(Object(o.g)(this.playerId)),new Promise(function(e){navigator.geolocation.getCurrentPosition(function(t){return e(t)},function(){return e()})})):Promise.resolve()},t.parseGeolocationData=function(e){return Promise.resolve({latitude:e&&e.coords.latitude,longitude:e&&e.coords.longitude})},t.acquireLiveStream=function(e,t){var n=this,r=this.getLiveStreamAcquisitionDetails(e,t),i=r.params,a=r.path,s=r.isLiveTimecode;return this.twitterAuthedHttpClient.dispatch({host:"https://api.twitter.com",method:"GET",params:i,path:a}).then(function(e){return e.status<200||e.status>=400?Promise.reject({type:y,reason:h.a.LIVE_STREAM_ACQUISITION_NETWORK_ERROR}):(n.dispatch(Object(o.f)(n.playerId)),Promise.resolve({body:e.body,isLiveTimecode:s}))},function(){return Promise.reject({type:y,reason:h.a.LIVE_STREAM_ACQUISITION_NETWORK_ERROR})})},t.getLiveStreamAcquisitionDetails=function(e,t){var n=t.latitude,r=t.longitude,i=e.client,a=e.source,s=a&&a.trackId||0,o=e.tracks[s],c={client:i,use_syndication_guest_id:"tfw"===i,lat:n,lng:r,cookie_set_host:new T.a(window.location.href).getHostname()},u=e.features&&e.features.isLiveTimecodeEnabled&&(o.requestedTimecode>0||0===o.requestedTimecode);return u&&(c.latest_replay_playlist=!0),{params:c,isLiveTimecode:u,path:"/1.1/live_video_stream/status/"+o.contentId}},t.parseStreamAcquisitionResponse=function(e){var t=JSON.parse(e.body);return t&&t.source&&t.source.noRedirectPlaybackUrl?Promise.resolve({cookieSetUrl:t.source.cookieSetUrl,isLiveTimecode:e.isLiveTimecode,playbackUrl:t.source.noRedirectPlaybackUrl,lifecycleToken:t.lifecycleToken,chatToken:t.chatToken,broadcastShareUrl:t.shareUrl,restrictions:t.restrictions}):Promise.reject({type:y,reason:h.a.LIVE_PARSE_ERROR})},t.setCookies=function(e){var t=e.cookieSetUrl,n=s()(e,["cookieSetUrl"]);return t?this.httpClient.dispatch({method:"GET",path:t,host:"",withCredentials:!0}).then(function(){return Promise.resolve(e)},function(){return Promise.reject({type:m,payload:n})}):Promise.reject({type:m,payload:n})},t.checkCookies=function(e){var t=new T.a(e.cookieSetUrl);return window.location.host===t.getHostname()?Promise.resolve(e):this.httpClient.dispatch({method:"GET",path:"https://t.lv.twimg.com/live_video_stream/cookie_check",host:"",withCredentials:!0}).then(function(t){return 400!==t.status?Promise.resolve(e):Promise.reject({type:y,reason:h.a.LIVE_VIDEO_NO_COOKIES_ERROR})},function(){return Promise.reject({type:y,reason:h.a.LIVE_VIDEO_NO_COOKIES_ERROR})})},t.handleRejectedPromises=function(e){if(e.type===m)return Promise.resolve(e.payload);var t=e.reason?new Error(e.reason):e;return Promise.reject(t)},e}(),O=(n("mhn7"),n("VjuZ"),n("oHKp"),function(){function e(e){this.httpClient=e}var t=e.prototype;return t.load=function(e){var t=this,n=e.tracks[0];return"vmap"!==n.contentType?Promise.resolve(e):this.httpClient.dispatch({method:"GET",path:n.vmapUrl,host:"",withCredentials:!1}).then(function(r){if(r.status<200||r.status>=400)throw new Error(h.a.VMAP_NETWORK_ERROR);var i=t.parseVmap(r.body);return Object.assign({},e,{tracks:[Object.assign({},n,i)]})},function(){throw new Error(h.a.VMAP_NETWORK_ERROR)})},t.parseVmap=function(e){var t=(new window.DOMParser).parseFromString(e,"application/xml").getElementsByTagNameNS("http://twitter.com/schema/videoVMapV2.xsd","content")[0];if(void 0===t)throw new Error(h.a.VMAP_PARSE_ERROR);var n=t.getElementsByTagName("MediaFile")[0];if(void 0===n)throw new Error(h.a.VMAP_PARSE_ERROR);var r=n.textContent.trim().replace(/^http:\/\/amp\.twimg\.com\//,"https://amp.twimg.com/"),i=n.getAttribute("type")||function(e){var t=new T.a(e).getPath();return".m3u8"===t.slice(t.lastIndexOf("."))?"application/x-mpegURL":"video/mp4"}(r);return{publisherId:t.getAttribute("ownerId"),contentId:t.getAttribute("contentId"),variants:[{src:r,type:i}],cta:this.getCta(t)}},t.getCta=function(e){var t=e.getElementsByTagNameNS("http://twitter.com/schema/videoVMapV2.xsd","cta_open_url")[0],n=e.getElementsByTagNameNS("http://twitter.com/schema/videoVMapV2.xsd","cta_watch_now")[0];return void 0!==t?{type:"url",url:t.getAttribute("url")}:void 0!==n?{type:"watch",url:n.getAttribute("url")}:void 0},e}()),I=function(e,t,n,r,i,a){return[new g(n),new u.b(n,a),new O(t),new b(e,t,n,r,i)]},R=function(e,t,n,r){var i=Promise.resolve({source:e,videoConfig:t});return n.reduce(function(e,t){return e.then(function(e){return t.load(e,r)})},i)},_=n("/Uk5");n.d(t,"c",function(){return S}),n.d(t,"e",function(){return P}),n.d(t,"a",function(){return w}),n.d(t,"f",function(){return C}),n.d(t,"b",function(){return A}),n.d(t,"i",function(){return D}),n.d(t,"g",function(){return k}),n.d(t,"j",function(){return U}),n.d(t,"d",function(){return j});var S="CONFIGURE_PLAYER",P="RELOADING_PLAYER",w="BROADCAST_UPDATED",C=function(e,t){return{type:w,updatedState:t,playerId:e}},A="CONFIGURATION_LOADED",L=function(e,t){return{type:A,playerState:t,playerId:e}},D=function(e,t){return{type:"FEATURES_LOADED",features:t,playerId:e}},k=function(e,t,n,r,i,a,s,c,d){return void 0===d&&(d={}),function(l){return l(function(e,t,n,r,i,a,s,o,c,u){return{type:S,source:t,session:n,analytics:r,playerId:e,adProvider:i,videoConfig:a,promotedContext:s,initiallyMutedCaptions:o,enableNativeFullscreen:c,intentToPlayTime:u}}(e,t,r,i,a,n,d.promotedContext,d.initiallyMutedCaptions,d.enableNativeFullscreen,d.intentToPlayTime)),R(t,n,I(l,Object(_.c)(e),Object(_.e)(e),e,d.showGeolocationPrompt,d.includeBroadcastEventAssociation),d).then(function(t){if(l(L(e,t)),s(),Object(u.c)(t)){var n=t.source.id,r=new u.a(l,Object(_.e)(e),e,n,d.includeBroadcastEventAssociation);return r.queueUpdate(t.isLive).catch(function(t){l(Object(o.d)(e,t))}),r}}).catch(function(t){l(Object(o.d)(e,t)),c()})}},U=function(e,t,n,r,i,a,s){return void 0===s&&(s={}),function(c){return c(function(e,t,n){return{type:P,playerId:e,source:t,session:n}}(e,t,r)),R(t,n,I(c,Object(_.c)(e),Object(_.e)(e),e,s.showGeolocationPrompt,s.serveAds,s.includeBroadcastEventAssociation),s).then(function(t){c(L(e,t)),i()}).catch(function(t){c(Object(o.d)(e,t)),a()})}},j=(t.h=function(e,t){switch(t.type){case S:case P:return Object.assign({},e,t.promotedContext,{source:t.source,session:t.session,playerId:t.playerId,configuration:{loading:!0}});case A:return t.playerState.features.isDebuggingEnabled&&(c.a.debuggingEnabled=!0),Object.assign({},e,t.playerState,{features:Object.assign({},e.features,t.playerState.features),configuration:{loading:!1}});case"FEATURES_LOADED":return Object.assign({},e,{features:Object.assign({},e.features,t.features)});case w:var n=t.updatedState,r=n.cta,a=n.isLive,o=n.viewerCount,u=n.viewCount,d=s()(n,["cta","isLive","viewerCount","viewCount"]),l=function(e){var t=e.tracks;return{sourceTrack:t.find(function(t){return t.id===e.source.trackId}),otherTracks:t.filter(function(t){return t.id!==e.source.trackId})}}(e),h=l.sourceTrack,f=l.otherTracks;return h&&(0===h.requestedTimecode||h.requestedTimecode>0)&&delete d.posterImage,Object.assign({},e,d,{tracks:[].concat(i()(f),[Object.assign({},h,{cta:r,isLive:a,viewerCount:o,viewCount:u})])});default:return e}},{configuration:{loading:!1,error:void 0},tracks:[]})},tYh2:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r=function(e,t){try{window.localStorage.setItem(e,t)}catch(n){}},i=function(e,t){try{return window.localStorage.getItem(e)}catch(n){return t}}},vAVP:function(e,t,n){"use strict";var r=n("fKPv"),i=n.n(r),a=function e(t){var n=this;i()(this,"clearLogs",function(){try{window.sessionStorage.removeItem(n.storageKey)}catch(e){}}),i()(this,"log",function(t,r){if(e.debuggingEnabled){var i=t+": "+r;n.logItemInSessionStorage(i)}}),i()(this,"logItemInSessionStorage",function(e){try{var t=window.sessionStorage.getItem(n.storageKey),r=t?JSON.parse(t):[];r.push(e),window.sessionStorage.setItem(n.storageKey,JSON.stringify(r))}catch(i){}}),this.storageKey=e.generateStorageKey(t),this.clearLogs()};i()(a,"debuggingEnabled",!1),i()(a,"generateStorageKey",function(e){return"TwitterVideoPlayerDebugLog:"+e}),i()(a,"getDebugFileLink",function(e){var t=window.sessionStorage.getItem(a.generateStorageKey(e)),n=new window.Blob([JSON.parse(t).join("\n")],{type:"application/octet-stream"});return window.URL.createObjectURL(n)}),t.a=a},yHtB:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.updateGuestInfo=t.UPDATE_GUEST_INFO=void 0;t.UPDATE_GUEST_INFO="UPDATE_GUEST_INFO";t.updateGuestInfo=function(e,t){return{type:"UPDATE_GUEST_INFO",guestInfo:t,experienceId:e}};t.default=function(e,t){switch(void 0===e&&(e={}),t.type){case"UPDATE_GUEST_INFO":for(var n=t.guestInfo,r={},i=0;i<n.length;i++){var a=n[i],s=a.ParticipantIndex,o=a.ProfileUrl,c=a.SessionId,u=a.StreamName,d=a.UserId,l=a.UserName;r[i]={ParticipantIndex:s,ProfileUrl:o,SessionId:c,StreamName:u,UserId:d,UserName:l}}return r;default:return e}}},yuXV:function(e,t,n){var r=n("Ds5P"),i=n("OzIq").isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})}});
//# sourceMappingURL=https://ton.smf1.twitter.com/responsive-web-internal/sourcemaps/web/ondemand.PlayerBase.9ca30a220c9b08c94.js.map