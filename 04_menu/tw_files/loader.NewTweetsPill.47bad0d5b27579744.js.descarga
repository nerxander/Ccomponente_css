webpackJsonp(["loader.NewTweetsPill"],{K3f9:function(t,e,a){"use strict";e.__esModule=!0,e.default=void 0,a("n12u");var i=o(a("x5lS")),n=o(a("GiK3")),r=o(a("sT3W"));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){return void 0===t&&(t={}),(0,i.default)("svg",Object.assign({},t,{style:[r.default.root,t.style],viewBox:"0 0 24 24"}),n.default.createElement("g",null,n.default.createElement("path",{d:"M18.707 10.293l-6-6c-.39-.39-1.023-.39-1.414 0l-6 6c-.39.39-.39 1.023 0 1.414.195.195.45.293.707.293s.512-.098.707-.293L11 7.414V20c0 .553.447 1 1 1s1-.447 1-1V7.414l4.293 4.293c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414z"})))};s.metadata={height:24,width:24};var l=s;e.default=l},KlVB:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("SU+a"),a("n12u");var i=a("M1I4"),n=a.n(i),r=a("86MP"),o=a.n(r),s=a("fKPv"),l=a.n(s),c=a("GiK3"),u=a("Z1LJ"),h=a("bndy"),m=a("7t5w"),p=a("Dica"),d=Object(h.createSelector)(function(t,e){var a=e.alert&&e.alert.userIds;return a&&a.map(function(e){var a=p.e.select(t,e);return a&&{profile_image_url_https:a.profile_image_url_https}}).filter(Boolean)},function(t){return{userImageUrls:t}}),f={scribeAction:m.c},w=Object(u.f)(d,f),_=a("jH3T"),v=a.n(_),g=a("K3f9"),S=a.n(g),y=a("tXEk"),b=a("IIZ1"),D=a("6iEo"),T=a("MjES"),x=a.n(T),I=a("Mpbj"),M=a.n(I),E=a("cGHd"),A=a.n(E),j=a("jYKd"),P=a.n(j);a.d(e,"NewTweetsPill",function(){return O});var L=v.a.gc5f7806,k=v.a.fd726bf2,K={page:"home",component:"new_tweet_prompt"},O=function(t){function e(){for(var e,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,l()(n()(e),"state",{show:!1}),l()(n()(e),"_attemptShow",function(){var t=e.props.hasNewItems,a=e.props.alert;if(e._timeoutID&&(clearTimeout(e._timeoutID),e._timeoutID=null),e._mounted&&(t||a)){var i=e._getDelayRemaining();i<=0?e.setState({show:!0}):e._timeoutID=setTimeout(e._attemptShow,i)}}),l()(n()(e),"_handleScrollDown",function(){var t=e.props,a=t.remainVisibleInterval,i=t.alert,n=a;i&&i.displayDurationMs&&i.displayDurationMs>-1&&(n=i.displayDurationMs),e.state.show&&Date.now()>=e._showStartTime+n&&(e._scribeAction("dismiss"),e._hide())}),l()(n()(e),"_handleClick",function(){e._scribeAction("click"),window.scrollTo(0,0),e._hide()}),e}o()(e,t);var a=e.prototype;return a.componentDidMount=function(){this._mounted=!0,this._getLastShownTime()||this._updateLastShownTime(),this._attemptShow(),this._cancelMomentum=Object(y.a)({onUp:b.noop,onDown:this._handleScrollDown})},a.componentDidUpdate=function(t,e){this.props.alert&&!e.show&&this._attemptShow(),!t.hasNewItems&&this.props.hasNewItems?this._attemptShow():(t.hasNewItems&&!this.props.hasNewItems||t.alert&&!this.props.alert)&&this._hide(),e.show&&!this.state.show&&this._updateLastShownTime(),!e.show&&this.state.show&&(this._showStartTime=Date.now(),this._scribeAction("show"))},a.componentWillUnmount=function(){this._mounted=!1,this._cancelMomentum()},a.render=function(){var t,e=this.props,a=e.alert,i=e.userImageUrls,n=this.state.show;return t=a?a.richText&&c.createElement(D.b,{entities:a.richText.entities,text:a.richText.text}):L,c.createElement(x.a,{accessibilityRole:"status"},c.createElement(x.a,{accessibilityLabel:k,accessibilityRole:"button",importantForAccessibility:n?"yes":"no-hide-descendants",onClick:this._handleClick,style:[C.pill,n&&C.show]},c.createElement(x.a,{style:C.innerPill},c.createElement(S.a,{color:"white",style:C.icon}),i?c.createElement(x.a,null,c.createElement(A.a,{userAvatarSize:"large",userAvatars:i})):null,c.createElement(M.a,{color:"white",numberOfLines:1,style:a&&C.pillText},t))))},a._getDelayRemaining=function(){var t=this.props,e=t.triggerDelay,a=t.alert,i=a&&a.triggerDelayMs||e;return this._getLastShownTime()+i-Date.now()},a._getLastShownTime=function(){return e.lastShownTime},a._updateLastShownTime=function(){e.lastShownTime=Date.now()},a._hide=function(){var t=this.props,e=t.alert,a=t.removeAlert;this._mounted&&this.setState({show:!1}),e&&setTimeout(function(){return a()},500)},a._scribeAction=function(t){var e=Object.assign({},K,{action:t});this.props.scribeAction(e)},e}(c.PureComponent);l()(O,"defaultProps",{remainVisibleInterval:3e3,triggerDelay:24e4});var C=P.a.create(function(t){return{pill:{boxShadow:t.boxShadows.small,backgroundColor:t.colors.primary,borderRadius:t.borderRadii.infinite,paddingHorizontal:t.spaces.small,opacity:0,justifyContent:"center",transform:[{translate3d:"0, 0, 0"}],transitionProperty:"transform, opacity",transitionDuration:"0.15s",transitionTimingFunction:"ease, ease, step-end"},innerPill:{flexDirection:"row",paddingVertical:t.spaces.xxSmall},icon:{width:t.spaces.medium,marginRight:t.spaces.xxSmall,alignSelf:"center"},pillText:{marginLeft:t.spaces.xxSmall,alignSelf:"center"},show:{opacity:1,transitionTimingFunction:"ease, ease, step-start",transform:[{translate3d:"0, 3.5em, 0"}]}}});e.default=w(O)},cGHd:function(t,e,a){"use strict";var i=a("R6lU");e.__esModule=!0,e.default=void 0,a("SU+a"),a("w6W7");var n=i(a("86MP")),r=i(a("fKPv")),o=i(a("GiK3")),s=i(a("jYKd")),l=i(a("tQ79")),c=i(a("MjES")),u=function(t){function e(){return t.apply(this,arguments)||this}return(0,n.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.userAvatars,a=t.userAvatarSize,i=e.length;return o.default.createElement(c.default,{style:h.root},e.map(function(t,e){return o.default.createElement(l.default,{key:t.profile_image_url_https,size:a,style:[h.avatar,0!==e&&h.avatarOverlap,{zIndex:i-e}],uri:t.profile_image_url_https})}))},e}(o.default.Component);e.default=u,(0,r.default)(u,"defaultProps",{userAvatarSize:"medium"});var h=s.default.create(function(t){return{avatar:{borderColor:t.colors.cellBackground,borderWidth:t.borderWidths.small},avatarOverlap:{marginLeft:"-"+t.spaces.xSmall},root:{flexDirection:"row",flexShrink:0}}})}});
//# sourceMappingURL=https://ton.smf1.twitter.com/responsive-web-internal/sourcemaps/web/loader.NewTweetsPill.47bad0d5b27579744.js.map